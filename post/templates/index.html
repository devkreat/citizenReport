{% load static %}

<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from citizensgate.lagosstate.gov.ng/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 26 Jul 2023 14:44:55 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Lagos State Citizen Report</title>
  <meta name="descriptison" content="At Citizen Report, You can send your feedback to the Government and receive prompt answers/services; receive updates from the government and spice your lifestyle with great fun from the very heart of Lagos State by Lagos State">
  <meta name="keywords" content="lagos,enquiry,complaint,suggestion,compliment">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!-- Favicons -->
  <link rel="shortcut icon" type="image/x-icon" href="assets/img/cg_main_logo2.0.png">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="dash/plugins/fontawesome-free/css/all.min.css"/>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Roboto:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">
  <!--<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>-->
  <script src="../code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
  <!--VAT Message-->
  <!--<link rel="stylesheet" type="text/css" href="vat/style.css">-->
 <!--VAT - Message Video-->
 <link rel="stylesheet" href="vat-video/main.css">
 <!--<link rel="stylesheet" href="vat-video/css/main.css">-->
  <!-- Vendor CSS Files -->
  <link href="{% static 'post/assets/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
  <link href="{% static 'post/assets/vendor/icofont/icofont.min.css' %}" rel="stylesheet">
  <link href="{% static 'post/assets/vendor/boxicons/css/boxicons.min.css' %}" rel="stylesheet">
  <link href="{% static 'post/assets/vendor/owl.carousel/assets/owl.carousel.min.css' %}" rel="stylesheet">
  <link href="{% static 'post/assets/vendor/venobox/venobox.css' %}" rel="stylesheet">
  <link href="{% static 'post/assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="{% static 'post/assets/css/greatstyle4cgla.css' %}" rel="stylesheet">
  <!-- ==================================
  * Name: Citizen Report - v2
  * Author: Applistructureconsulting.com
  ======================================= -->
      <!-- Select2 -->
  <!-- -->
  <link href="../cdn.jsdelivr.net/npm/select2%404.1.0-beta.1/dist/css/select2.min.css" rel="stylesheet" />
  <script src="../cdn.jsdelivr.net/npm/select2%404.1.0-beta.1/dist/js/select2.min.js"></script>
  <style>
      .blinking{
            	animation:blinkingText 5.0s infinite;
                }
                @keyframes blinkingText{
                	0%{		color: #FFFF00;	}
                	49%{	color: transparent;	}
                	50%{	color: transparent;	}
                	59%{	color:transparent;	}
                	100%{	color: #FFFF00;	}
                }
  </style>
  	<!--//DIsplay Google Login Prompt-->
    <!--  -->

      <!--introJs-->
  <link rel="stylesheet" href="../cdnjs.cloudflare.com/ajax/libs/intro.js/5.1.0/introjs.min.css"/>
</head>
<body>



  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top d-flex align-items-center">
    <div class="container d-flex align-items-center justify-content-between">
<a href="index.html"><img  style="max-height:80px;padding-right: 15px;padding-left:-30px;margin-bottom: 10px;" src="{% static 'post/assets/img/cg_2.0_logo.png' %}"/></a>
      <!--<h1 class="logo mr-auto"><a href="#homez">Lagos State Citizen Report <span><small class="" style="font-size:16px"><b>2.0</b></small></span></a></h1>-->

    </div>
  </header><!-- End Header -->
<!--Include Lagos Preview Video Demo


<!-- Modal -->
<div class="modal fade bd-example-modal-lg" id="previewVideoLag"  data-keyboard="false" tabindex="-1" aria-labelledby="previewVideoLagTitle" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title " id="previewVideoLagTitle"><span class="text-center">This is a 1 minute, 22 seconds video about Lagos</span></h3>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <video width="320" height="240" controls>
          <source src="lagos-vids/about-lagos.mp4" type="video/mp4">
          <source src="lagos-vids/about-lagos.html" type="video/ogg">
        Your browser does not support the video tag.
        </video>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>  <!-- ======= Hero Section ======= -->
  <section id="hero" class="d-flex align-items-center">
    <div id="bkgin" class="container" data-aos="zoom-out" data-aos-delay="100">
        <div id="gradWhitish">
            <div class="row" style="margin-top:-100px;">
            <div class="col-sm-6 col-md-12">
                <div id="govMessage" class="govStatement">
                    <div class="">
                        <a href="#" style="color:white;"><h3>Welcome To The Lagos State Citizen Report.</h3></a>
                    </div>
                    <div class="">
                        <a href="#" style="color:white;">
                            <p>This is a Platform where Citizens of Lagos State can send a feedback to the Government.
                              <a class="text-light" data-toggle="modal" data-target="#exampleModalSignUp" href="{% url 'post' %}">We are listening.  </a><a class="text-light" data-toggle="modal" data-target="#feedbackModal" href="{% url 'post' %}" ><span id="feedbkUnsignUpBtn" class="btn btn-danger m-1">File a Complaint</span></a>                            </p>
                        </a>
                    </div>
                </div>
            </div>
            </div>

      <!--On the Governor's Picture-->
      <!-- <div class="" style="position:absolute;"><img class=" img-responsive" height="150px" src="/assets/img/the_lasg_governor.png"/></div>-->
    </div> <!--data-aos="zoom-out" data-aos-delay="100"-->

  </section><!-- End Hero -->



 <!-- <main id="main">-->
  <main>
    <!-- ======= Featured Services Section ======= -->
    <section id="featured-services" class="featured-services">
      <div id="extra" class="container" data-aos="fade-up" style="margin-bottom:30px;">
          <div class="section-title">
          <h3>Send Us a <span>Message</span></h3>
          <p>You can send us any Non-emergency Feedbacks on this Platform.</p>
        </div>
        <div class="row">
          <div class="col-md-6 col-lg-3 d-flex align-items-stretch mb-5 mb-lg-0">
            <div class="icon-box" data-aos="fade-up" data-aos-delay="100">
              <div class="icon"><i class="bx bxl-dribbble"></i></div>
              <h4 class="title"><a href="#">We are listening</a></h4>
              <p class="description">Communicate straight to the Government through this platform. We very much want to attend to your requests.</p>
            </div>
          </div>
          <div class="col-md-6 col-lg-3 d-flex align-items-stretch mb-5 mb-lg-0">
            <div class="icon-box" data-aos="fade-up" data-aos-delay="200">
              <div class="icon"><i class="bx bx-command"></i></div>
              <h4 class="title"><a href="#">Social Abuse</a></h4>
              <p class="description">You can report any sort of Abuse, whether it is Child abuse, Sexual abuse or even Domestic abuse done to you or anyone.</p>
            </div>
          </div>

          <div class="col-md-6 col-lg-3 d-flex align-items-stretch mb-5 mb-lg-0">
            <div class="icon-box" data-aos="fade-up" data-aos-delay="400">
              <div class="icon"><i class="bx bx-bulb"></i></div>
              <h4 class="title"><a href="#">Non-Emergencies</a></h4>
              <p class="description">Report any sort of non-emergency from health, domestic, bad roads or drainages, security, assault. We will resolve it.</p>
            </div>
          </div>
        </div>
      </div>
    </section><!-- End Featured Services Section -->

    <!-- ======= About Section ======= -->
    <section id="about" class="about section-bg">
      <div class="container" data-aos="fade-up">
        <div class="section-title">
          <p>The Lagos State Government seriously cares about your day-to-day experience in this State.</p>
        </div>
        <div class="row">
          <div class="col-lg-6" data-aos="zoom-out" data-aos-delay="100">
            <!--<img src="assets/img/fbx1.jpeg" class="img-fluid" alt="">-->
            <!--cccccccccccccccccccccc-->
        <div id="carouselCtzFeedbackReasons" class="carousel slide" data-ride="carousel">
          <ol class="carousel-indicators">
            <li data-target="#carouselCtzFeedbackReasons" data-slide-to="0" class="active"></li>
            <li data-target="#carouselCtzFeedbackReasons" data-slide-to="1"></li>
            <li data-target="#carouselCtzFeedbackReasons" data-slide-to="2"></li>
          </ol>
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img src="{% static 'post/assets/img/fbx1.jpg' %}" class="d-block w-100" alt="Report potholes and flood matters">
            </div>
            <div class="carousel-item">
              <img src="{% static 'post/assets/img/fbx2.jpg' %}" class="d-block w-100" alt="Request for C of O, and Report overdue refuse dump for removal">
            </div>
            <div class="carousel-item">
              <img src="assets/img/fbx1.jpg" class="d-block w-100" alt="Report potholes and flood matters">
            </div>
          </div>
          <button class="carousel-control-prev" type="button" data-target="#carouselCtzFeedbackReasons" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
          </button>
          <button class="carousel-control-next" type="button" data-target="#carouselCtzFeedbackReasons" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
          </button>
        </div>
          </div><!--ctz-feedback-fb1.jpeg-->
          <div class="col-lg-6 pt-4 pt-lg-0 content d-flex flex-column justify-content-center" data-aos="fade-up" data-aos-delay="100">
            <h3>You can Report any issue that will make living in Lagos State a rewarding experience for Citizens.</h3>
            <p class="font-italic">
              From fixing dilapidated infrastructure (bad roads/ Potholes/ collapsing building) to giving you convenience, we are interested in serving you well.
            </p>
            <ul>
              <li>
                <i class="bx bx-store-alt"></i>
                <div>
                  <h5>Accessing various goverment services</h5>
                  <p>Report bad building or road condition and suggest how to better serve you here.</p>
                </div>
              </li>
              <li>
                <i class="bx bx-images"></i>
                <div>
                  <h5>Better traffic experience</h5>
                  <p>You can send a message on any issue stopping free flow of traffic (hold-up/traffic jam).</p>
                </div>
              </li>
            </ul>
            <p>
              Really, you can even see how well we serve you on this platform through the dashboard charts and tables.
            </p>
          </div>
        </div>
      </div>
      <!--Slidders-->
      <br />
      <br />
      <h5 class="text-center">Together, We can Make Lagos State Better.</h5>
      <br />
      <div class="container" data-aos="zoom-out" data-aos-delay="100">
          <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
              <ol class="carousel-indicators">
                <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="4"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="5"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="6"></li>
              </ol>
              <div class="carousel-inner">
                <div class="carousel-item active">
                  <img class="d-block w-100" src="{% static 'post/assets/img/sliders/lagos-state_vi.jpg' %}"  alt="First slide">
                  <div style="background: rgba(0,0,0,0.4);padding:15px;border-radius:10px;" class="carousel-caption d-none d-md-block">
                    <h5>Lagos Island</h5>
                    <p>Report anything happening around you. We care.</p>
                  </div>
                </div>
                <div class="carousel-item">
                  <img class="d-block w-100" src="{% static 'post/assets/img/sliders/lagos-state_cms.jpg' %}" alt="Second slide">
                  <div style="background: rgba(0,0,0,0.4);padding:15px;border-radius:10px;" class="carousel-caption d-none d-md-block">
                    <h5>CMS</h5>
                    <p>You can send us a message about your area.</p>
                  </div>
                </div>
                <div class="carousel-item">
                  <img class="d-block w-100" src="{% static 'post/assets/img/sliders/lagos-state_busstop.jpg' %}" alt="Third slide">
                  <div style="background: rgba(0,0,0,0.4);padding:15px;border-radius:10px;" class="carousel-caption d-none d-md-block">
                    <h5>Everyday Bus stop</h5>
                    <p>You can send us a feedback about your transportation experience.</p>
                  </div>
                </div>
                <div class="carousel-item">
                  <img class="d-block w-100" src="{% static 'post/assets/img/sliders/lagos-state_lagos-island.jpg' %}"  alt="Fourth slide">
                  <div style="background: rgba(0,0,0,0.4);padding:15px;border-radius:10px;" class="carousel-caption d-none d-md-block">
                    <h5>Lagos Island</h5>
                    <p>We can address your issues with building or C of O here.</p>
                  </div>
                </div>
                <div class="carousel-item">
                  <img class="d-block w-100" src="assets/img/sliders/lagos-state_makoko1.jpg" alt="Fifth slide">
                  <div style="background: rgba(0,0,0,0.4);padding:15px;border-radius:10px;" class="carousel-caption d-none d-md-block">
                    <h5>Makoko</h5>
                    <p>You can tell us how to better serve your community in your local government.</p>
                  </div>
                </div>
                <div class="carousel-item">
                  <img class="d-block w-100" src="assets/img/sliders/lagos-state_ojodu-berger.jpg" alt="Sixth slide">
                  <div style="background: rgba(0,0,0,0.4);padding:15px;border-radius:10px;" class="carousel-caption d-none d-md-block">
                    <h5>Ojodu Berger</h5>
                    <p>If your environment is dirty or unhealthy, you can reach us here..</p>
                  </div>
                </div>
              </div>
              <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
              </a>
              <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
              </a>
            </div>
      </div>
    </section><!-- End About Section -






    <!-- ======= Team Section ======= -->
    <section id="team" class="team section-bg">
      <div class="container" data-aos="fade-up">
        <div class="section-title">
          <h2>Team</h2>
          <h3>Our Hardworking <span>Team</span></h3>
          <p>Team work is what makes Lagos State government capable of achieving great feats.</p>
        </div>
        <!--Team 1-->
        <div class="row d-flex justify-content-center">
          <div class="col-lg-4 col-md-6 d-flex align-items-stretch" data-aos="fade-up" data-aos-delay="200">
            <div class="member">
              <div class="member-img">
                <img src="{% static 'post/assets/img/team/mr_governor.jpg' %}" class="img-fluid" alt=""><!--team-1gov.jpg-->
              </div>
              <div class="member-info">
                <h4>Babajide Sanwo-Olu</h4>
                <span>Governor, Lagos State</span>
              </div>
            </div>
          </div>
          <div class="col-lg-4 col-md-6 d-flex align-items-stretch" data-aos="fade-up" data-aos-delay="300">
            <div class="member">
              <div class="member-img">
                <img src="{% static 'post/assets/img/team/mr_deputy_governor.jpg' %}" class="img-fluid" alt=""><!--team-1gov.-deputy.jpg-->
              </div>
              <div class="member-info">
                <h4>Kadri Obafemi Hamzat</h4>
                <span>Deputy Governor, Lagos State</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section><!-- End Team Section -->

    <!-- ======= Contact Section ======= -->
    <section class="contact">
      <div class="container" data-aos="fade-up">
        </div>
      </div>
    </section><!-- End Contact Section -->

  </main><!-- End #main -->

  <!-------------------------------------------------------SIGNUP-------------------------------------------------------------->

<!--Signup Modal-->


  <!-- ======= Footer ======= -->
  <footer id="footer">

    <div class="footer-top">
      <div class="container">
        <div class="row">
          <div class="col-lg-3 col-md-6 footer-contact">
            <h3>Citizen Report <span style="font-size:10;"><small><b>2.0</b></small></span></h3>
            <p>
                <a href="http://maps.google.com/maps?q=LAGOS+STATE+GOVERNMENT+SECRETARIAT,+Cipm+Avenue,+Alausa,+Ikeja,+Nigeria">
              Citizen Report HQ,<br>
              Alausa, Lagos State,<br>
              Nigeria.</a><br><!--<br>
              <strong>Phone:</strong> <a href="tel:+234 703 807 3239">+234 703 807 3239</a><br>-->
              <strong>Email:</strong> <a href="mailto:infocg@lagosstate.gov.ng">infocg@lagosstate.gov.ng</a><br>
            </p>
          </div>


          <div class="col-lg-3 col-md-6 footer-links">
            <h4>Our Social Networks</h4>
            <p>Engage us on any of our Social Network Handles as seen below. We will happily respond to you.</p>
            <div class="social-links mt-3">
              <a href="https://twitter.com/followlasg" class="twitter"><i class="bx bxl-twitter"></i></a>
              <a href="https://facebook.com/followlasg" class="facebook"><i class="bx bxl-facebook"></i></a>
              <a href="https://lagosstate.gov.ng/feed/" class="feed"><i class="bx bx-rss"></i></a>
              <!--<a href="#" class="instagram"><i class="bx bxl-instagram"></i></a>
              <a href="#" class="google-plus"><i class="bx bxl-skype"></i></a>
              <a href="#" class="linkedin"><i class="bx bxl-linkedin"></i></a>-->
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="container py-4">
      <div class="copyright">
        &copy; Copyright <strong><span>Citizen Report</span></strong>. All Rights Reserved.
      </div>
      <div class="credits">
        Designed for <a href="#">You</a>.
      </div>
    </div>
  </footer>
  <!-- Modal -->
  <!-- Modal -->
<div class="modal fade" id="feedbackModal" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="feedbackModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header text">
        <h5 class="modal-title" id="feedbackModalLabel"><span class="text-center">Send Us a Feedback here <i class="fas fa-duotone fa-envelope"></i></span></h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <!--<h4 class="text-danger text-center"><b>Feedback Form</b></h4>-->
          <!-- form start -->
          <div id="">
            <form action="#" class="feedbackAdvForm" method="post" class=" form" role="form" id="feedbackAdv" enctype="multipart/form-data" novalidate="novalidate">
            <div class="card-body">
                  <h6>When you Fill this Form below, please add an email or phone number so you can get updates on the message you submitted. <small class="text-danger">All compulsory fields have a '*required' marked in red.</small></h6>
                  <hr />
                  <!--Feedback Type-->
                  <!--<label for="formtype">Choose a Feedback Type</label>-->
              <div class="control-group">
                    <div class="form-group">
                      <label for="formtype">Click to choose Feedback Type: </label> <small class="text-danger">*required</small>
                      <select id="formtype" name="formtype" class="form-control input-lg" data-live-search="true" title="Select Feedback Type">
                          <option disabled="" selected>Click here for Feedback Type</option>
                          <option value="3">Complaints</option>
                          <option value="2">Enquiries</option>
                          <option value="4">Suggestion</option>
                          <option value="1">Compliment</option>
                      </select>
                    </div>
              </div>
              <!--Incident Address-->
              <div class="control-group">
    			<div class="form-group">
    				<label class="control-label" style="position:relative; top:7px;">Your Email Address:</label>
    				<input class="form-control" id="emailAddr" name="emailAddr" rows="1" placeholder="Type in Your Email Address"/>
    			</div>
    		</div><!--Incident Address-->
              <div class="control-group">
    			<div class="form-group">
    				<label class="control-label" style="position:relative; top:7px;">Your Phone Number:</label>
    				<input class="form-control" id="phoneNum" name="phoneNum" rows="1" placeholder="Type in Your Phone Number"/>
    			</div>
    		</div>
              <div class="control-group">
                <div class="form-group">
                  <!--Service-->
                  <label for="mdaservices">Ministries /Departments/ Agencies (MDA) Services:</label><br />
                  <select name="mdaservices" id="mdaservices" class="form-control input-lg mdaservices" style="width:100%;" data-live-search="true" title="Select MDA Service (Optional)">
                      <option selected="selected">Select MDA Services (Optional)</option>
                                                    <option value="16">Emergency Management Service</option>
                                                      <option value="25">Fire Prevention &amp; Emergency Response</option>
                                                      <option value="43">Lands Documentation Services</option>
                                                      <option value="61">Phy. Planning &amp; Urban Development Services by LASBCA</option>
                                                      <option value="62">Physical Planning &amp; Urban Development Services by LASPPPA</option>
                                                      <option value="101">Transport Planning &amp; Implementation/Urban Renewal Services</option>
                                                      <option value="116">Public Safety and Well-being</option>
                                                      <option value="117">Storm Water Resource Management (Drainage and Water Resources)</option>
                                                      <option value="118">Water corporation</option>
                                                      <option value="119">Domestic and Sexual Violence Incidence Services</option>
                                                      <option value="120">Traffic Management Services (by LASTMA)</option>
                                                      <option value="121">Tertiary Health Care Services</option>
                                                      <option value="122">Consumer Promotion and Protection Of Rights</option>
                                                      <option value="123">Material Testing Laboratory Services</option>
                                                      <option value="124">Emergency Ambulance Services</option>
                                                      <option value="125">Residents Registration Service (LASRRA)</option>
                                                      <option value="126">Infrastructural Maintenance and Regulatory Service (LASIMRA)</option>
                                                      <option value="127">Environmental Degradation Protection Services</option>
                                                      <option value="128">Rehabilitation and Maintenance of Existing Lagos State Owned Roads</option>
                                                      <option value="129">Primary Health Services Delivery</option>
                                          </select>
                </div>

              </div>
              <div class="control-group">
                <div class="form-group">
                  <!--Service Type-->
                  <label for="servicetypes">MDA Service Categories: </label><br />
                  <select name="servicetypes" id="servicetypes" class="form-control servicetypes" style="width:100%;" data-live-search="true" title="Select Service Categories (Optional)">
                  </select>

               </div>
              </div>
              <!--Incident LGA/LCDA-->
              <div class="control-group">
                <div class="form-group">
                  <!--LGA-->
                  <label for="lgas">Choose Your LGA:  <small class="text-danger">*required</small></label><br />
                  <select name="lgas" id="lgas" class="form-control" style="width:100%;" data-live-search="true" title="Select Incident LGA">
                      <!--<option disabled="" selected>  Select Incident LGA/LCDA  </option>-->
                       <option><span disabled='' selected>Select Incident LGA/LCDA</span></option><option id='1' value='1'>AGEGE</option><option id='2' value='2'>ORILE AGEGE</option><option id='3' value='3'>AJEROMI</option><option id='4' value='4'>IFELODUN</option><option id='5' value='5'>ALIMOSHO</option><option id='6' value='6'>AGBADO/OKE-ODO</option><option id='7' value='7'>AYOBO IPAJA</option><option id='8' value='8'>EGBE-IDIMU</option><option id='9' value='9'>IGANDO-IKOTUN</option><option id='10' value='10'>MOSAN OKUNOLA</option><option id='11' value='11'>AMUWO ODOFIN</option><option id='12' value='12'>ORIADE</option><option id='13' value='13'>APAPA</option><option id='14' value='14'>IGANMU</option><option id='15' value='15'>BADAGRY</option><option id='16' value='16'> BADAGRY WEST LCDA</option><option id='17' value='17'>OLORUNDA LCDA </option><option id='18' value='18'>EPE LGA </option><option id='19' value='19'>EREDO LGA</option><option id='20' value='20'>IKOSI EJINRIN LCDA</option><option id='21' value='21'>ETI OSA LGA</option><option id='22' value='22'>ETI OSA EAST LCDA</option><option id='23' value='23'>IRU- VICTORIA ISLAND LCDA</option><option id='24' value='24'>IKOYI OBALANDE LCDA</option><option id='25' value='25'>IBEJU LEKKI LGA</option><option id='26' value='26'>LEKKI LCDA </option><option id='27' value='27'>IFAKO IJAYE LGA</option><option id='28' value='28'>OJOKORO LCDA</option><option id='29' value='29'>IKEJA LGA</option><option id='30' value='30'>OJODU LCDA </option><option id='31' value='31'>ONIGBONGBO LCDA </option><option id='32' value='32'>IKORODU LGA </option><option id='33' value='33'>IKORODU NORTH LCDA</option><option id='34' value='34'>IKORODU WEST LCDA</option><option id='35' value='35'>IMOTA LCDA </option><option id='36' value='36'>IJEDE LCDA </option><option id='37' value='37'>IGBOBO-BAIYEKU LCDA </option><option id='38' value='38'>KOSOFE LGA</option><option id='39' value='39'>IKOSI-ISHERI LCDA </option><option id='40' value='40'>AGBOYI-KETU LCDA</option><option id='41' value='41'>LAGOS ISLAND LGA</option><option id='42' value='42'>LAGOS ISLAND EAST LGA</option><option id='43' value='43'>LAGOS MAINLAND LGA</option><option id='44' value='44'>YABA LCDA</option><option id='45' value='45'>MUSHIN LGA</option><option id='46' value='46'>ODI - OLOWO LGA</option><option id='47' value='47'>OJO LGA</option><option id='48' value='48'>OTO AWORI LCDA</option><option id='49' value='49'>IBA LCDA</option><option id='50' value='50'>SOMOLU LGA </option><option id='51' value='51'>BARIGA LCDA </option><option id='52' value='52'>OSHODI ISOLO LGA</option><option id='53' value='53'>ISOLO LCDA</option><option id='54' value='54'>EJIGBO LCDA</option><option id='55' value='55'>SURULERE LGA </option><option id='56' value='56'>COKER AGUDA LCDA </option><option id='57' value='57'>ITIRE IKATE LCDA </option>                  </select>
                  <!--LCDA-->
                  <!--<label for="lcdas">  Choose Your LCDA</label>-->
                  <!--<select name="lcdas" id="lcdas" class="form-control input-lg" data-live-search="true"title="Select Incident LCDA">
                  </select>--><!--<option disabled="" selected>Select Incident LCDA</option>-->
                 </div>

              </div>

              <!--Incident Address-->
              <div class="control-group">
    			<div class="form-group">
    				<label class="control-label" style="position:relative; top:7px;">Incident Address:  <small class="text-danger">*required</small></label>
    				<textarea class="form-control" id="address" name="address" rows="2" placeholder="Type in the address of where you are reporting about"></textarea>
    			</div>
    		</div>
    		<!--Message-->
              <div class="control-group">
    			<div class="form-group">
    				<label class="control-label" style="position:relative; top:7px;">Message:  <small class="text-danger">*required</small></label>
    				<textarea class="form-control" id="body" name="body" rows="3" placeholder="Type Your Message"></textarea>
    			</div>
    		</div>
    		<!--File Upload-->
    	      <div class="control-group">
    			<div class="form-group">
    				<label class="control-label" style="position:relative; top:7px;"><span  style="color:#1E8449;"></span>Upload files</label>

    				<input type="file" class="form-control address"  id="feedback_adv_file" name="feedback_adv_file" placeholder="Drag Files here Or Click to Upload them">
    			</div>
    		</div>

            <!-- /.card-body -->
              <div id="success"></div>
              <!--loader Start-->
                        <div id="targetLayer2"></div>
                        <div id="loader_icon2" style="display:none;"><img width="40px" height="40px" src="dash/loader/loading.gif" /></div>
                        <!--loader End-->
              <div id="alert" class="alert alert-info text-center alert-dismissible fade show alertAdv" role="alert" style="margin-top:20px; display:none;">
                	<button class="close"><span aria-hidden="true">&times;</span></button>
                    <span id="alert_message"></span>
              </div>
              <div class="card-footer buttonAdv">
              <button type="reset" class="btn btn-success">Reset</button>
              <button type="submit" id="submitAdv" name="submitAdv" class="btn btn-primary">Submit</button>
              </div>
            </div>
          </form>
          </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<!--New Select a Service-->
<script type="text/javascript">
        $(document).ready(function()
        {
            $(".mdaservices").change(function(){
                var service_id = $(this).val();
                $.ajax({
                    url: "feedback-processor4unregistered.php",
                    method: "POST",
                    data: {service_id:service_id},
                    success:function(data){
                        $(".servicetypes").html(data);
                    }
                });
            });

        });
    </script>
<!--Select A Service-->
<script>
$(document).ready(function(){

    /*Initialise ToolTips*/
    //$('[data-toggle="tooltip"]').tooltip();
   // $('[data-toggle="tooltip2"]').tooltip();

    /*Initialise Select2 Plugin*/
  $('#mdaservices').select2({
      placeholder: 'Select a Service (Optional)',
        //allowClear: true
  });
  $('#servicetypes').select2({
      placeholder: 'Select a Service Type (Optional)',
        //allowClear: true
  });
    $('#lgas').select2({
      placeholder: 'Select Incident LGA',
        //allowClear: true
  });
  $('#lcdas').select2({
      placeholder: 'Select Incident LCDA',
        //allowClear: true
  });//Simple Form LGA/LCDA
  $('#simple_lga').select2({
      placeholder: 'Select Incident LGA or LCDA',
        //allowClear: true
  });


  load_data('category_data');

  function load_data(type, category_id = '')
  {
    $.ajax({
      url:"dash/feedback-now-processor.php",
      method:"POST",
      data:{type:type, category_id:category_id},
      dataType:"json",
      success:function(data)
      {

        var html = '';
        //var inx += '<option></option>';
        //$("#mdaservices").html('Select a Service');
        html += '<option disabled="" selected>Select a Service (Optional)</option>';
        for(var count = 0; count < data.length; count++)
        {
          html += '<option value="'+data[count].id+'">'+data[count].name+'</option>';

        }
        if(type == 'category_data')
        {
          $('#mdaservices').html(html);
          //$('#mdaservices').selectpicker('refresh');
          $('#mdaservices').select2('refresh');
        }
        else
        {
          $('#servicetypes').html(html);
          //$('#servicetypes').selectpicker('refresh');
          $('#servicetypes').select2('refresh');
        }
      }
    })
  }

  $(document).on('change', '#mdaservices', function(){
    var category_id = $('#mdaservices').val();
    load_data('sub_category_data', category_id);
  });

  // Begin LGAs n LCDAs

  $('.lgas').select2({
      placeholder: 'Select Incident LGA',
        //allowClear: true
  });
  $('.lcdas').select2({
      placeholder: 'Select Incident LCDA',
        //allowClear: true
  });

            $("#lgas").change(function(){
				var aid = $("#lgas").val();
				$.ajax({
					url: 'dash/feedback-form.php',
					method: 'post',
					data: 'aid=' + aid
				}).done(function(lcdas){
					console.log(lcdas);
					lcdas = JSON.parse(lcdas);
					$('#lcdas').empty();
					$('#lcdas').append('<option>' + 'Choose Your LCDA' + '</option>');
					lcdas.forEach(function(lcda){
						$('#lcdas').append('<option value="' + lcda.id + '">' + lcda.lcda + '</option>')
					})
				})
			})

  //End of LGAs n LCDAs

});


</script>

<script>
    //Advanced Form
	$('#addFormx').on('submit',function(e){
		e.preventDefault();
		//var addform = $(this).serialize();
		//console.log(addform);


		$.ajax({
        url: 'add.php',//$(this).attr("action"),
        type: 'POST',//$(this).attr("method"),
        dataType: "JSON",
        data: new FormData(this),
        processData: false,
        contentType: false,
        success: function (data, status)
        {
                //$('#add').modal('hide');
				if(response.error){
				    resetForm();
					$('#alert').show();
					$('#alert_message').html(response.message);
					//$('.alert').alert();
					window.setTimeout(function() {
                        $(".alert").fadeTo(500, 0).slideUp(500, function(){
                            $(this).remove();
                        });
                    }, 12000);
					//alertOff();
                }
        error: function (xhr, desc, err) //function (XMLHttpRequest, textStatus, errorThrown)
        {
                    resetForm();
					$('#alert').show();
					$('#alert_message').html(response.message);
					//$('.alert').alert();
					window.setTimeout(function() {
                        $(".alert").fadeTo(500, 0).slideUp(500, function(){
                            $(this).remove();
                        });
                    }, 12000);
					//alertOff();

        }
        $('#mdaservices').append('<option value="">Select A Service (Now Optional)</option>');
        $("#servicetypes").append('<option value="">Select A Service Type (Now Optional)</option>');
        $("#lga").append('<option value="">Select Incident LGA/LCDA</option>');
        $("#mdaservices")[0].reset();
        $("#addForm")[0].reset();
    });
	});
</script>

<script>
//Advanced Form
document.getElementById("submitAdv").addEventListener("click", function() {
  //alert("Hello World!");

    const advform = document.getElementById("feedbackAdv"),
    continueBtn = advform.querySelector(".buttonAdv "),
    errorText = advform.querySelector(".alertAdv");

    advform.onsubmit = (e)=>{
        e.preventDefault();
    }

    continueBtn.onclick = ()=>{
    document.getElementById("loader_icon2").style.display='block';
        let xhr = new XMLHttpRequest();
        xhr.open("POST.html", "dash/addAdvForm.html", true);
        xhr.onload = ()=>{
          if(xhr.readyState === XMLHttpRequest.DONE){
              if(xhr.status === 200){
                  let data = xhr.response;
                  if(data === "success"){
                    //location.href="#";
                  }else{
                      document.getElementById("loader_icon2").style.display='none';
                    errorText.style.display = "block";
                    errorText.textContent = data;


                    $("select").closest("form").on("reset",function(ev){
                    var targetJQForm = $(ev.target);
                    setTimeout((function(){
                        this.find("select").trigger("change");
                    }).bind(targetJQForm),0);
                    });

                    setTimeout(function() {
                        $('.alertAdv').fadeOut('fast');
                    }, 15000);
                    //reset form
                    document.getElementById('feedbackAdv').reset();
                    $("#feedbackAdvForm").trigger( "reset" );
                    $(':input','#feedbackAdvForm')
                         .not(':button, :submit, :reset, :hidden')
                         .val('')
                         .removeAttr('checked')
                         .removeAttr('selected');
                         $('#mySelect2').val(null).trigger('change');
                         $("select.select2").select2('data', {}); // clear out values selected
                        $("select.select2").select2({ allowClear: true }); // re-init to show default status
                  }
              }
          }
        }
        let formData = new FormData(advform);
        xhr.send(formData);
    }
});
</script>  <!--Send Message by VAT Message-->
    <!-- Button trigger modal -->
    <button id="sendMessage" type="button" class="shadow shadow-lg mb-3 btn vat-boxycom" data-toggle="modal" style="position: fixed;  bottom: -4px;right: 10px;border-radius:50% 25%;background-image:radial-gradient(#5199f8,#0059b2);color:#ffffff;" data-target="#vatModal">
       <h1><i class="far fa-comments"></i></h1><small style="margin-top:-25px;padding:5px;"l>Anonymous</small>
    </button>

<!-- Modal -->
<div class="modal fade" id="vatModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title text-center" id="exampleModalLabel">Send Your Message</h4>
        <br>
        <button type="button" class="close text-danger" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
          <p class="text-secondary">You can send your feedback in Video or Audio or also Text Form. Tell us about the issue and the location you are reporting about so that we can be able to solve the issue there.</p>

        <nav>
          <div class="nav nav-tabs" id="nav-tab" role="tablist">
            <a class="nav-link active" id="nav-home-tab" data-toggle="tab" href="#nav-home" role="tab" aria-controls="nav-home" aria-selected="true"><span class="iconify" data-icon="ant-design:audio-filled"></span> Audio</a>
            <a class="nav-link" id="nav-profile-tab" data-toggle="tab" href="#nav-profile" role="tab" aria-controls="nav-profile" aria-selected="false">Video</a>
           <!-- <a class="nav-link" id="nav-contact-tab" data-toggle="tab" href="#nav-contact" role="tab" aria-controls="nav-contact" aria-selected="false">Text</a>-->
          </div>
        </nav>
        <div class="tab-content" id="nav-tabContent">
          <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">    <h6 class="mt-2">Record and Send Measage as Audio</h6>

    <p>
    <div class="alert alert-primary" id="controls">
  	 <button class="btn btn-light" id="recordButton"><i style='font-size:24px;color:red' class='fas'>&#xf111;</i> Record</button>
  	 <button class="btn btn-light" id="pauseButton" disabled><i style='font-size:24px;color:#000' class='fas'>&#xf04c;</i> Pause</button>
  	 <button class="btn btn-light" id="stopButton" disabled><i style='font-size:24px;color:#000' class='fas'>&#xf04d;</i> Stop</button>
  	 <button class="btn btn-light" id="resetButton" onclick="myDelFunction()"><i style='font-size:24px;color:#000' class='fas'>&#xf00d;</i> Delete</button>
    </div>
    <div id="formats"><!--Format: -->Start recording<!-- to see sample rate--></div>
  	<!--<p id="recElements"><strong>Recordings:</strong></p>-->

  	<!--<p id="recordingsList"></p>-->
  	<p id="preview_success_response" class="text-success bg-light"></p>

  	<p><strong id="rcdg">Recordings:</strong></p>
  	<ol id="recordingsList"></ol>

  	<script>
    function myDelFunction() {
      var delAudioM = document.getElementById("recordingsList");
      delAudioM.innerHTML="";
    }
    </script>

    <!-- inserting these scripts at the end to be able to use all the elements in the DOM -->
  	<script src="vat-audio/recorder.js"></script><!--https://cdn.rawgit.com/mattdiamond/Recorderjs/08e7abd9/dist/recorder.js-->
  	<script src="vat-audio/js/app.js"></script>
  </div>
          <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab"><!DOCTYPE html>
<html lang="en">
<!--recVideo-->
<head>
    <title>Video Recording</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <link rel="stylesheet" href="webrtc-experiment.html"><!--https://www.webrtc-experiment.com/style.css-->

    <style>

        .recordrtc button {
            font-size: inherit;
        }

        .recordrtc button, .recordrtc select {
            vertical-align: middle;
            line-height: 1;
            padding: 2px 5px;
            height: auto;
            font-size: inherit;
            margin: 0;
        }

        .recordrtc, .recordrtc .header {
            display: block;
            text-align: center;
            padding-top: 0;
        }

        .recordrtc video, .recordrtc img {
            max-width: 100%!important;
            vertical-align: top;
        }

        .recordrtc audio {
            vertical-align: bottom;
        }

        .recordrtc option[disabled] {
            display: none;
        }

        .recordrtc select {
            font-size: 17px;
        }
    </style>

    <script src="vat-vid/RecordRTC.js"></script>

    <!-- web streams API polyfill to support Firefox -->
    <script src="../unpkg.com/%40mattiasbuelens/web-streams-polyfill%400.3.2/dist/polyfill.min.js"></script>

    <!-- ../libs/DBML.js to fix video seeking issues -->
    <script src="../www.webrtc-experiment.com/EBML.js"></script>

    <!-- for Edge/FF/Chrome/Opera/etc. getUserMedia support -->
    <script src="../webrtc.github.io/adapter/adapter-latest.js"></script>
    <script src="../www.webrtc-experiment.com/DetectRTC.js"> </script>

    <!-- video element -->
    <link href="../www.webrtc-experiment.com/getHTMLMediaElement.css" rel="stylesheet">
    <script src="../www.webrtc-experiment.com/getHTMLMediaElement.js"></script>
</head>

<body>
    <article>
        <header style="text-align: center;">
            <!--<h5>
                Record Your Video:
            </h5>-->

            <!--   -->
        </header>

        <!--   -->

        <section class="experiment recordrtc">
            <h2 class="header" style="margin: 0;">
                <select class="recording-media" style="display:none;">
                    <option value="record-audio-plus-video">Microphone+Camera</option>
                    <option value="record-audio">Microphone</option>
                    <option value="record-screen">Full Screen</option>
                    <option value="record-audio-plus-screen">Microphone+Screen</option>
                </select>

                <span style="font-size: 15px;display:none;">into</span>

                <select class="media-container-format" style="display:none;">
                    <option>default</option>
                    <option>vp8</option>
                    <option>vp9</option>
                    <option>h264</option>
                    <option>mkv</option>
                    <option>opus</option>
                    <option>ogg</option>
                    <option>pcm</option>
                    <option>gif</option>
                    <option>whammy</option>
                    <option>WebAssembly</option>
                </select>

                <input type="checkbox" id="chk-timeSlice" style="margin:0;width:auto;display: none;" title="Use intervals based recording" checked>
                <!--<label for="chk-timeSlice" style="font-size: 15px;margin:0;width: auto;cursor: pointer;-webkit-user-select:none;user-select:none;" title="Use intervals based recording">Use timeSlice?</label>-->

                <br>
                <div class="alert alert-primary">
                    <button class="btn btn-primary" id="btn-start-recording"><i style='font-size:24px;color:red' class='fas'>&#xf111;</i> Start Recording</button>
                    <button class="btn btn-warning" id="btn-pause-recording" style="display: none;">Pause</button>

                    <div style="display: none/*inline-block*/;">
                        <input type="checkbox" id="chk-fixSeeking" style="margin:0;width:auto;" title="Fix video seeking issues?" checked>
                        <label for="chk-fixSeeking" style="font-size: 15px;margin:0;width: auto;cursor: pointer;-webkit-user-select:none;user-select:none;display:none;" title="Fix video seeking issues?">Fix Seeking Issues?</label>
                    </div>
                </div>

                <hr style="border-top: 0;border-bottom: 1px solid rgb(189, 189, 189);margin: 4px -12px;margin-top: 8px;">
                <select class="media-resolutions" style="display:none;">
                    <option type="hidden" value="default">Default resolutions</option>
                    <option type="hidden" value="1920x1080">1080p</option>
                    <option type="hidden" value="1280x720">720p</option>
                    <option type="hidden" value="640x480">480p</option>
                    <option type="hidden" value="3840x2160">4K Ultra HD (3840x2160)</option>
                </select>

                <select class="media-framerates" style="display:none;">
                    <option type="hidden" value="default">Default framerates</option>
                    <option type="hidden" value="5">5 fps</option>
                    <option type="hidden" value="15">15 fps</option>
                    <option type="hidden" value="24">24 fps</option>
                    <option type="hidden" value="30">30 fps</option>
                    <option type="hidden" value="60">60 fps</option>
                </select>

                <select class="media-bitrates" style="display:none;">
                    <option type="hidden" value="default">Default bitrates</option>
                    <option type="hidden" value="8000000000">1 GB bps</option>
                    <option type="hidden" value="800000000">100 MB bps</option>
                    <option type="hidden" value="8000000">1 MB bps</option>
                    <option type="hidden" value="800000">100 KB bps</option>
                    <option type="hidden" value="8000">1 KB bps</option>
                    <option type="hidden" value="800">100 Bytes bps</option>
                </select>
            </h2>

            <div style="text-align: center; display: none;">
                <button id="save-to-disk" class="btn btn-danger"><i style='font-size:24px;color:#fff' class='fas'>&#xf358;</i> Download</button>
                <button id="upload-to-php" class="btn btn-danger"><i style='font-size:24px;color:#fff' class='fas'>&#xf382;</i> Upload</button>
                <button id="open-new-tab" class="btn btn-danger"><i style='font-size:24px;color:#fff' class='fas'>&#xf144;</i> Play</button>
                <button id="delVidButton" class="btn btn-danger" onclick="myDelVidFunction()"><i style='font-size:24px;color:#fff' class='fas'>&#xf00d;</i> Delete</button>
                <script>
                    function myDelVidFunction() {
                      var delVidM = document.getElementById("recVideo");
                      delVidM.innerHTML="";
                    }
                </script>

                <div style="margin-top: 10px;">
                    <span id="signinButton" class="pre-sign-in">
                      <span
                        class="g-signin"
                        data-callback="signinCallback"
                        data-clientid="41556190767-115ifahd55lk4ln5pop4jus55cr4l7oh.apps.googleusercontent.com"
                        data-cookiepolicy="single_host_origin"
                        data-scope="https://www.googleapis.com/auth/youtube.upload https://www.googleapis.com/auth/youtube">
                      </span>
                    </span>

                    <button id="upload-to-youtube" style="vertical-align:top;display:none;">Upload to YouTube</button>
                </div>
            </div>

            <div style="margin-top: 10px;" id="recording-player"></div>
        </section>

        <script>
            (function() {
                var params = {},
                    r = /([^&=]+)=?([^&]*)/g;

                function d(s) {
                    return decodeURIComponent(s.replace(/\+/g, ' '));
                }

                var match, search = window.location.search;
                while (match = r.exec(search.substring(1))) {
                    params[d(match[1])] = d(match[2]);

                    if(d(match[2]) === 'true' || d(match[2]) === 'false') {
                        params[d(match[1])] = d(match[2]) === 'true' ? true : false;
                    }
                }

                window.params = params;
            })();

            function addStreamStopListener(stream, callback) {
                stream.addEventListener('ended', function() {
                    callback();
                    callback = function() {};
                }, false);
                stream.addEventListener('inactive', function() {
                    callback();
                    callback = function() {};
                }, false);
                stream.getTracks().forEach(function(track) {
                    track.addEventListener('ended', function() {
                        callback();
                        callback = function() {};
                    }, false);
                    track.addEventListener('inactive', function() {
                        callback();
                        callback = function() {};
                    }, false);
                });
            }
        </script>

        <script>
            var video = document.createElement('video');
            video.controls = false;
            var mediaElement = getHTMLMediaElement(video, {
                title: 'Recording status: inactive',
                buttons: ['full-screen'/*, 'take-snapshot'*/],
                showOnMouseEnter: false,
                width: 360,
                onTakeSnapshot: function() {
                    var canvas = document.createElement('canvas');
                    canvas.width = mediaElement.clientWidth;
                    canvas.height = mediaElement.clientHeight;

                    var context = canvas.getContext('2d');
                    context.drawImage(recordingPlayer, 0, 0, canvas.width, canvas.height);

                    window.open(canvas.toDataURL('image/png'));
                }
            });
            document.getElementById('recording-player').appendChild(mediaElement);

            var div = document.createElement('section');
            mediaElement.media.parentNode.appendChild(div);
            mediaElement.media.muted = false;
            mediaElement.media.autoplay = true;
            mediaElement.media.playsinline = true;
            div.appendChild(mediaElement.media);

            var recordingPlayer = mediaElement.media;
            var recordingMedia = document.querySelector('.recording-media');
            var mediaContainerFormat = document.querySelector('.media-container-format');
            var mimeType = 'video/webm';
            var fileExtension = 'webm';
            var type = 'video';
            var recorderType;
            var defaultWidth;
            var defaultHeight;

            var btnStartRecording = document.querySelector('#btn-start-recording');

            window.onbeforeunload = function() {
                btnStartRecording.disabled = false;
                recordingMedia.disabled = false;
                mediaContainerFormat.disabled = false;

                chkFixSeeking.parentNode.style.display = 'inline-block';
            };

            btnStartRecording.onclick = function(event) {
                var button = btnStartRecording;

                if(button.innerHTML === 'Stop Recording') {
                    btnPauseRecording.style.display = 'none';
                    button.disabled = true;
                    button.disableStateWaiting = true;
                    setTimeout(function() {
                        button.disabled = false;
                        button.disableStateWaiting = false;
                    }, 2000);

                    button.innerHTML = 'Start Recording';

                    function stopStream() {
                        if(button.stream && button.stream.stop) {
                            button.stream.stop();
                            button.stream = null;
                        }

                        if(button.stream instanceof Array) {
                            button.stream.forEach(function(stream) {
                                stream.stop();
                            });
                            button.stream = null;
                        }

                        videoBitsPerSecond = null;
                        var html = 'Recording status: stopped';
                        html += '<br>Size: ' + bytesToSize(button.recordRTC.getBlob().size);
                        recordingPlayer.parentNode.parentNode.querySelector('h2').innerHTML = html;
                    }

                    if(button.recordRTC) {
                        if(button.recordRTC.length) {
                            button.recordRTC[0].stopRecording(function(url) {
                                if(!button.recordRTC[1]) {
                                    button.recordingEndedCallback(url);
                                    stopStream();

                                    saveToDiskOrOpenNewTab(button.recordRTC[0]);
                                    return;
                                }

                                button.recordRTC[1].stopRecording(function(url) {
                                    button.recordingEndedCallback(url);
                                    stopStream();
                                });
                            });
                        }
                        else {
                            button.recordRTC.stopRecording(function(url) {
                                if(button.blobs && button.blobs.length) {
                                    var blob = new File(button.blobs, getFileName(fileExtension), {
                                        type: mimeType
                                    });

                                    button.recordRTC.getBlob = function() {
                                        return blob;
                                    };

                                    url = URL.createObjectURL(blob);
                                }

                                if(chkFixSeeking.checked === true) {
                                    // to fix video seeking issues
                                    getSeekableBlob(button.recordRTC.getBlob(), function(seekableBlob) {
                                        button.recordRTC.getBlob = function() {
                                            return seekableBlob;
                                        };

                                        url = URL.createObjectURL(seekableBlob);

                                        button.recordingEndedCallback(url);
                                        saveToDiskOrOpenNewTab(button.recordRTC);
                                        stopStream();
                                    })
                                    return;
                                }

                                button.recordingEndedCallback(url);
                                saveToDiskOrOpenNewTab(button.recordRTC);
                                stopStream();
                            });
                        }
                    }

                    return;
                }

                if(!event) return;

                button.disabled = true;

                var commonConfig = {
                    onMediaCaptured: function(stream) {
                        button.stream = stream;
                        if(button.mediaCapturedCallback) {
                            button.mediaCapturedCallback();
                        }

                        button.innerHTML = 'Stop Recording';
                        button.disabled = false;

                        chkFixSeeking.parentNode.style.display = 'none';
                    },
                    onMediaStopped: function() {
                        button.innerHTML = "<i style='font-size:24px;color:red' class='fas'>&#xf111;</i> Start Recording";

                        if(!button.disableStateWaiting) {
                            button.disabled = false;
                        }

                        chkFixSeeking.parentNode.style.display = 'inline-block';
                    },
                    onMediaCapturingFailed: function(error) {
                        console.error('onMediaCapturingFailed:', error);

                        if(error.toString().indexOf('no audio or video tracks available') !== -1) {
                            alert('RecordRTC failed to start because there are no audio or video tracks available.');
                        }

                        if(error.name === 'PermissionDeniedError' && DetectRTC.browser.name === 'Firefox') {
                            alert('Firefox requires version >= 52. Firefox also requires HTTPs.');
                        }

                        commonConfig.onMediaStopped();
                    }
                };

                if(mediaContainerFormat.value === 'h264') {
                    mimeType = 'video/webm\;codecs=h264';
                    fileExtension = 'mp4';

                    // video/mp4;codecs=avc1
                    if(isMimeTypeSupported('video/mpeg')) {
                        mimeType = 'video/mpeg';
                    }
                }

                if(mediaContainerFormat.value === 'mkv' && isMimeTypeSupported('video/x-matroska;codecs=avc1')) {
                    mimeType = 'video/x-matroska;codecs=avc1';
                    fileExtension = 'mkv';
                }

                if(mediaContainerFormat.value === 'vp8' && isMimeTypeSupported('video/webm\;codecs=vp8')) {
                    mimeType = 'video/webm\;codecs=vp8';
                    fileExtension = 'webm';
                    recorderType = null;
                    type = 'video';
                }

                if(mediaContainerFormat.value === 'vp9' && isMimeTypeSupported('video/webm\;codecs=vp9')) {
                    mimeType = 'video/webm\;codecs=vp9';
                    fileExtension = 'webm';
                    recorderType = null;
                    type = 'video';
                }

                if(mediaContainerFormat.value === 'pcm') {
                    mimeType = 'audio/wav';
                    fileExtension = 'wav';
                    recorderType = StereoAudioRecorder;
                    type = 'audio';
                }

                if(mediaContainerFormat.value === 'opus' || mediaContainerFormat.value === 'ogg') {
                    if(isMimeTypeSupported('audio/webm')) {
                        mimeType = 'audio/webm';
                        fileExtension = 'webm'; // webm
                    }

                    if(isMimeTypeSupported('audio/ogg')) {
                        mimeType = 'audio/ogg; codecs=opus';
                        fileExtension = 'ogg'; // ogg
                    }

                    recorderType = null;
                    type = 'audio';
                }

                if(mediaContainerFormat.value === 'whammy') {
                    mimeType = 'video/webm';
                    fileExtension = 'webm';
                    recorderType = WhammyRecorder;
                    type = 'video';
                }

                if(mediaContainerFormat.value === 'WebAssembly') {
                    mimeType = 'video/webm';
                    fileExtension = 'webm';
                    recorderType = WebAssemblyRecorder;
                    type = 'video';
                }

                if(mediaContainerFormat.value === 'gif') {
                    mimeType = 'image/gif';
                    fileExtension = 'gif';
                    recorderType = GifRecorder;
                    type = 'gif';
                }

                if(mediaContainerFormat.value === 'default') {
                    mimeType = 'video/webm';
                    fileExtension = 'webm';
                    recorderType = null;
                    type = 'video';
                }

                if(recordingMedia.value === 'record-audio') {
                    captureAudio(commonConfig);

                    button.mediaCapturedCallback = function() {
                        var options = {
                            type: type,
                            mimeType: mimeType,
                            leftChannel: params.leftChannel || false,
                            disableLogs: params.disableLogs || false
                        };

                        if(params.sampleRate) {
                            options.sampleRate = parseInt(params.sampleRate);
                        }

                        if(params.bufferSize) {
                            options.bufferSize = parseInt(params.bufferSize);
                        }

                        if(recorderType) {
                            options.recorderType = recorderType;
                        }

                        if(videoBitsPerSecond) {
                            options.videoBitsPerSecond = videoBitsPerSecond;
                        }

                        if(DetectRTC.browser.name === 'Edge') {
                            options.numberOfAudioChannels = 1;
                        }

                        options.ignoreMutedMedia = false;
                        button.recordRTC = RecordRTC(button.stream, options);

                        button.recordingEndedCallback = function(url) {
                            setVideoURL(url);
                        };

                        button.recordRTC.startRecording();
                        btnPauseRecording.style.display = '';
                    };
                }

                if(recordingMedia.value === 'record-audio-plus-video') {
                    captureAudioPlusVideo(commonConfig);

                    button.mediaCapturedCallback = function() {
                        if(typeof MediaRecorder === 'undefined') { // opera or chrome etc.
                            button.recordRTC = [];

                            if(!params.bufferSize) {
                                // it fixes audio issues whilst recording 720p
                                params.bufferSize = 16384;
                            }

                            var options = {
                                type: 'audio', // hard-code to set "audio"
                                leftChannel: params.leftChannel || false,
                                disableLogs: params.disableLogs || false,
                                video: recordingPlayer
                            };

                            if(params.sampleRate) {
                                options.sampleRate = parseInt(params.sampleRate);
                            }

                            if(params.bufferSize) {
                                options.bufferSize = parseInt(params.bufferSize);
                            }

                            if(params.frameInterval) {
                                options.frameInterval = parseInt(params.frameInterval);
                            }

                            if(recorderType) {
                                options.recorderType = recorderType;
                            }

                            if(videoBitsPerSecond) {
                                options.videoBitsPerSecond = videoBitsPerSecond;
                            }

                            options.ignoreMutedMedia = false;
                            var audioRecorder = RecordRTC(button.stream, options);

                            options.type = type;
                            var videoRecorder = RecordRTC(button.stream, options);

                            // to sync audio/video playbacks in browser!
                            videoRecorder.initRecorder(function() {
                                audioRecorder.initRecorder(function() {
                                    audioRecorder.startRecording();
                                    videoRecorder.startRecording();
                                    btnPauseRecording.style.display = '';
                                });
                            });

                            button.recordRTC.push(audioRecorder, videoRecorder);

                            button.recordingEndedCallback = function() {
                                var audio = new Audio();
                                audio.src = audioRecorder.toURL();
                                audio.controls = true;
                                audio.autoplay = true;

                                recordingPlayer.parentNode.appendChild(document.createElement('hr'));
                                recordingPlayer.parentNode.appendChild(audio);

                                if(audio.paused) audio.play();
                            };
                            return;
                        }

                        var options = {
                            type: type,
                            mimeType: mimeType,
                            disableLogs: params.disableLogs || false,
                            getNativeBlob: false, // enable it for longer recordings
                            video: recordingPlayer
                        };

                        if(recorderType) {
                            options.recorderType = recorderType;

                            if(recorderType == WhammyRecorder || recorderType == GifRecorder || recorderType == WebAssemblyRecorder) {
                                options.canvas = options.video = {
                                    width: defaultWidth || 320,
                                    height: defaultHeight || 240
                                };
                            }
                        }

                        if(videoBitsPerSecond) {
                            options.videoBitsPerSecond = videoBitsPerSecond;
                        }

                        if(timeSlice && typeof MediaRecorder !== 'undefined') {
                            options.timeSlice = timeSlice;
                            button.blobs = [];
                            options.ondataavailable = function(blob) {
                                button.blobs.push(blob);
                            };
                        }

                        options.ignoreMutedMedia = false;
                        button.recordRTC = RecordRTC(button.stream, options);

                        button.recordingEndedCallback = function(url) {
                            setVideoURL(url);
                        };

                        button.recordRTC.startRecording();
                        btnPauseRecording.style.display = '';
                        recordingPlayer.parentNode.parentNode.querySelector('h2').innerHTML = '<img src="../www.webrtc-experiment.com/images/progress.gif">';
                    };
                }

                if(recordingMedia.value === 'record-screen') {
                    captureScreen(commonConfig);

                    button.mediaCapturedCallback = function() {
                        var options = {
                            type: type,
                            mimeType: mimeType,
                            disableLogs: params.disableLogs || false,
                            getNativeBlob: false, // enable it for longer recordings
                            video: recordingPlayer
                        };

                        if(recorderType) {
                            options.recorderType = recorderType;

                            if(recorderType == WhammyRecorder || recorderType == GifRecorder || recorderType == WebAssemblyRecorder) {
                                options.canvas = options.video = {
                                    width: defaultWidth || 320,
                                    height: defaultHeight || 240
                                };
                            }
                        }

                        if(videoBitsPerSecond) {
                            options.videoBitsPerSecond = videoBitsPerSecond;
                        }

                        options.ignoreMutedMedia = false;
                        button.recordRTC = RecordRTC(button.stream, options);

                        button.recordingEndedCallback = function(url) {
                            setVideoURL(url);
                        };

                        button.recordRTC.startRecording();
                        btnPauseRecording.style.display = '';
                    };
                }

                // note: audio+tab is supported in Chrome 50+
                // todo: add audio+tab recording
                if(recordingMedia.value === 'record-audio-plus-screen') {
                    captureAudioPlusScreen(commonConfig);

                    button.mediaCapturedCallback = function() {
                        var options = {
                            type: type,
                            mimeType: mimeType,
                            disableLogs: params.disableLogs || false,
                            getNativeBlob: false, // enable it for longer recordings
                            video: recordingPlayer
                        };

                        if(recorderType) {
                            options.recorderType = recorderType;

                            if(recorderType == WhammyRecorder || recorderType == GifRecorder || recorderType == WebAssemblyRecorder) {
                                options.canvas = options.video = {
                                    width: defaultWidth || 320,
                                    height: defaultHeight || 240
                                };
                            }
                        }

                        if(videoBitsPerSecond) {
                            options.videoBitsPerSecond = videoBitsPerSecond;
                        }

                        options.ignoreMutedMedia = false;
                        button.recordRTC = RecordRTC(button.stream, options);

                        button.recordingEndedCallback = function(url) {
                            setVideoURL(url);
                        };

                        button.recordRTC.startRecording();
                        btnPauseRecording.style.display = '';
                    };
                }
            };

            function captureVideo(config) {
                captureUserMedia({video: true}, function(videoStream) {
                    config.onMediaCaptured(videoStream);

                    addStreamStopListener(videoStream, function() {
                        config.onMediaStopped();
                    });
                }, function(error) {
                    config.onMediaCapturingFailed(error);
                });
            }

            function captureAudio(config) {
                captureUserMedia({audio: true}, function(audioStream) {
                    config.onMediaCaptured(audioStream);

                    addStreamStopListener(audioStream, function() {
                        config.onMediaStopped();
                    });
                }, function(error) {
                    config.onMediaCapturingFailed(error);
                });
            }

            function captureAudioPlusVideo(config) {
                captureUserMedia({video: true, audio: true}, function(audioVideoStream) {
                    config.onMediaCaptured(audioVideoStream);

                    if(audioVideoStream instanceof Array) {
                        audioVideoStream.forEach(function(stream) {
                            addStreamStopListener(stream, function() {
                                config.onMediaStopped();
                            });
                        });
                        return;
                    }

                    addStreamStopListener(audioVideoStream, function() {
                        config.onMediaStopped();
                    });
                }, function(error) {
                    config.onMediaCapturingFailed(error);
                });
            }

            var MY_DOMAIN = 'sinotel.net/1cg';

            function isMyOwnDomain() {
                // replace "webrtc-experiment.com" with your own domain name
                return document.domain.indexOf(MY_DOMAIN) !== -1;
            }

            function isLocalHost() {
                // "chrome.exe" --enable-usermedia-screen-capturing
                // or firefox => about:config => "media.getusermedia.screensharing.allowed_domains" => add "localhost"
                return document.domain === 'localhost' || document.domain === '127.0.0.1';
            }

            var videoBitsPerSecond;

            function setVideoBitrates() {
                var select = document.querySelector('.media-bitrates');
                var value = select.value;

                if(value == 'default') {
                    videoBitsPerSecond = null;
                    return;
                }

                videoBitsPerSecond = parseInt(value);
            }

            function getFrameRates(mediaConstraints) {
                if(!mediaConstraints.video) {
                    return mediaConstraints;
                }

                var select = document.querySelector('.media-framerates');
                var value = select.value;

                if(value == 'default') {
                    return mediaConstraints;
                }

                value = parseInt(value);

                if(DetectRTC.browser.name === 'Firefox') {
                    mediaConstraints.video.frameRate = value;
                    return mediaConstraints;
                }

                if(!mediaConstraints.video.mandatory) {
                    mediaConstraints.video.mandatory = {};
                    mediaConstraints.video.optional = [];
                }

                var isScreen = recordingMedia.value.toString().toLowerCase().indexOf('screen') != -1;
                if(isScreen) {
                    mediaConstraints.video.mandatory.maxFrameRate = value;
                }
                else {
                    mediaConstraints.video.mandatory.minFrameRate = value;
                }

                return mediaConstraints;
            }

            function setGetFromLocalStorage(selectors) {
                selectors.forEach(function(selector) {
                    var storageItem = selector.replace(/\.|#/g, '');
                    if(localStorage.getItem(storageItem)) {
                        document.querySelector(selector).value = localStorage.getItem(storageItem);
                    }

                    addEventListenerToUploadLocalStorageItem(selector, ['change', 'blur'], function() {
                        localStorage.setItem(storageItem, document.querySelector(selector).value);
                    });
                });
            }

            function addEventListenerToUploadLocalStorageItem(selector, arr, callback) {
                arr.forEach(function(event) {
                    document.querySelector(selector).addEventListener(event, callback, false);
                });
            }

            setGetFromLocalStorage(['.media-resolutions', '.media-framerates', '.media-bitrates', '.recording-media', '.media-container-format']);

            function getVideoResolutions(mediaConstraints) {
                if(!mediaConstraints.video) {
                    return mediaConstraints;
                }

                var select = document.querySelector('.media-resolutions');
                var value = select.value;

                if(value == 'default') {
                    return mediaConstraints;
                }

                value = value.split('x');

                if(value.length != 2) {
                    return mediaConstraints;
                }

                defaultWidth = parseInt(value[0]);
                defaultHeight = parseInt(value[1]);

                if(DetectRTC.browser.name === 'Firefox') {
                    mediaConstraints.video.width = defaultWidth;
                    mediaConstraints.video.height = defaultHeight;
                    return mediaConstraints;
                }

                if(!mediaConstraints.video.mandatory) {
                    mediaConstraints.video.mandatory = {};
                    mediaConstraints.video.optional = [];
                }

                var isScreen = recordingMedia.value.toString().toLowerCase().indexOf('screen') != -1;

                if(isScreen) {
                    mediaConstraints.video.mandatory.maxWidth = defaultWidth;
                    mediaConstraints.video.mandatory.maxHeight = defaultHeight;
                }
                else {
                    mediaConstraints.video.mandatory.minWidth = defaultWidth;
                    mediaConstraints.video.mandatory.minHeight = defaultHeight;
                }

                return mediaConstraints;
            }

            function captureUserMedia(mediaConstraints, successCallback, errorCallback) {
                if(mediaConstraints.video == true) {
                    mediaConstraints.video = {};
                }

                setVideoBitrates();

                mediaConstraints = getVideoResolutions(mediaConstraints);
                mediaConstraints = getFrameRates(mediaConstraints);

                var isBlackBerry = !!(/BB10|BlackBerry/i.test(navigator.userAgent || ''));
                if(isBlackBerry && !!(navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia)) {
                    navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia;
                    navigator.getUserMedia(mediaConstraints, successCallback, errorCallback);
                    return;
                }

                navigator.mediaDevices.getUserMedia(mediaConstraints).then(function(stream) {
                    successCallback(stream);

                    setVideoURL(stream, true);
                }).catch(function(error) {
                    if(error && (error.name === 'ConstraintNotSatisfiedError' || error.name === 'OverconstrainedError')) {
                        alert('Your camera or browser does NOT supports selected resolutions or frame-rates. \n\nPlease select "default" resolutions.');
                    }
                    else if(error && error.message) {
                        alert(error.message);
                    }
                    else {
                        alert('Unable to make getUserMedia request. Please check browser console logs.');
                    }

                    errorCallback(error);
                });
            }

            function setMediaContainerFormat(arrayOfOptionsSupported) {
                var options = Array.prototype.slice.call(
                    mediaContainerFormat.querySelectorAll('option')
                );

                var localStorageItem;
                if(localStorage.getItem('media-container-format')) {
                    localStorageItem = localStorage.getItem('media-container-format');
                }

                var selectedItem;
                options.forEach(function(option) {
                    option.disabled = true;

                    if(arrayOfOptionsSupported.indexOf(option.value) !== -1) {
                        option.disabled = false;

                        if(localStorageItem && arrayOfOptionsSupported.indexOf(localStorageItem) != -1) {
                            if(option.value != localStorageItem) return;
                            option.selected = true;
                            selectedItem = option;
                            return;
                        }

                        if(!selectedItem) {
                            option.selected = true;
                            selectedItem = option;
                        }
                    }
                });
            }

            function isMimeTypeSupported(mimeType) {
                if(typeof MediaRecorder === 'undefined') {
                    return false;
                }

                if(typeof MediaRecorder.isTypeSupported !== 'function') {
                    return true;
                }

                return MediaRecorder.isTypeSupported(mimeType);
            }

            recordingMedia.onchange = function() {
                if(recordingMedia.value === 'record-audio') {
                    var recordingOptions = [];

                    if(isMimeTypeSupported('audio/webm')) {
                        recordingOptions.push('opus');
                    }

                    if(isMimeTypeSupported('audio/ogg')) {
                        recordingOptions.push('ogg');
                    }

                    recordingOptions.push('pcm');

                    setMediaContainerFormat(recordingOptions);
                    return;
                }

                var isChrome = !!window.chrome && !(!!window.opera || navigator.userAgent.indexOf('OPR/index.html') >= 0);

                var recordingOptions = ['vp8']; // MediaStreamRecorder with vp8

                if(isMimeTypeSupported('video/webm\;codecs=vp9')) {
                    recordingOptions.push('vp9'); // MediaStreamRecorder with vp9
                }

                if(isMimeTypeSupported('video/webm\;codecs=h264')) {
                    recordingOptions.push('h264'); // MediaStreamRecorder with h264
                }

                if(isMimeTypeSupported('video/x-matroska;codecs=avc1')) {
                    recordingOptions.push('mkv'); // MediaStreamRecorder with mkv/matroska
                }

                recordingOptions.push('gif'); // GifRecorder

                if(DetectRTC.browser.name == 'Chrome') {
                    recordingOptions.push('whammy'); // WhammyRecorder
                }

                if(DetectRTC.browser.name == 'Chrome') {
                    recordingOptions.push('WebAssembly'); // WebAssemblyRecorder
                }

                recordingOptions.push('default'); // Default mimeType for MediaStreamRecorder

                setMediaContainerFormat(recordingOptions);
            };
            recordingMedia.onchange();

            if(typeof MediaRecorder === 'undefined' && (DetectRTC.browser.name === 'Edge' || DetectRTC.browser.name === 'Safari')) {
                // webp isn't supported in Microsoft Edge
                // neither MediaRecorder API
                // so lets disable both video/screen recording options

                console.warn('Neither MediaRecorder API nor webp is supported in ' + DetectRTC.browser.name + '. You cam merely record audio.');

                recordingMedia.innerHTML = '<option value="record-audio">Audio</option>';
                setMediaContainerFormat(['pcm']);
            }

            function stringify(obj) {
                var result = '';
                Object.keys(obj).forEach(function(key) {
                    if(typeof obj[key] === 'function') {
                        return;
                    }

                    if(result.length) {
                        result += ',';
                    }

                    result += key + ': ' + obj[key];
                });

                return result;
            }

            function mediaRecorderToStringify(mediaRecorder) {
                var result = '';
                result += 'mimeType: ' + mediaRecorder.mimeType;
                result += ', state: ' + mediaRecorder.state;
                result += ', audioBitsPerSecond: ' + mediaRecorder.audioBitsPerSecond;
                result += ', videoBitsPerSecond: ' + mediaRecorder.videoBitsPerSecond;
                if(mediaRecorder.stream) {
                    result += ', streamid: ' + mediaRecorder.stream.id;
                    result += ', stream-active: ' + mediaRecorder.stream.active;
                }
                return result;
            }

            function getFailureReport() {
                var info = 'RecordRTC seems failed. \n\n' + stringify(DetectRTC.browser) + '\n\n' + DetectRTC.osName + ' ' + DetectRTC.osVersion + '\n';

                if (typeof recorderType !== 'undefined' && recorderType) {
                    info += '\nrecorderType: ' + recorderType.name;
                }

                if (typeof mimeType !== 'undefined') {
                    info += '\nmimeType: ' + mimeType;
                }

                Array.prototype.slice.call(document.querySelectorAll('select')).forEach(function(select) {
                    info += '\n' + (select.id || select.className) + ': ' + select.value;
                });

                if (btnStartRecording.recordRTC) {
                    info += '\n\ninternal-recorder: ' + btnStartRecording.recordRTC.getInternalRecorder().name;

                    if(btnStartRecording.recordRTC.getInternalRecorder().getAllStates) {
                        info += '\n\nrecorder-states: ' + btnStartRecording.recordRTC.getInternalRecorder().getAllStates();
                    }
                }

                if(btnStartRecording.stream) {
                    info += '\n\naudio-tracks: ' + getTracks(btnStartRecording.stream, 'audio').length;
                    info += '\nvideo-tracks: ' + getTracks(btnStartRecording.stream, 'video').length;
                    info += '\nstream-active? ' + !!btnStartRecording.stream.active;

                    btnStartRecording.stream.getTracks().forEach(function(track) {
                        info += '\n' + track.kind + '-track-' + (track.label || track.id) + ': (enabled: ' + !!track.enabled + ', readyState: ' + track.readyState + ', muted: ' + !!track.muted + ')';

                        if(track.getConstraints && Object.keys(track.getConstraints()).length) {
                            info += '\n' + track.kind + '-track-getConstraints: ' + stringify(track.getConstraints());
                        }

                        if(track.getSettings && Object.keys(track.getSettings()).length) {
                            info += '\n' + track.kind + '-track-getSettings: ' + stringify(track.getSettings());
                        }
                    });
                }

                if(timeSlice && btnStartRecording.recordRTC) {
                    info += '\ntimeSlice: ' + timeSlice;

                    if(btnStartRecording.recordRTC.getInternalRecorder().getArrayOfBlobs) {
                        var blobSizes = [];
                        btnStartRecording.recordRTC.getInternalRecorder().getArrayOfBlobs().forEach(function(blob) {
                            blobSizes.push(blob.size);
                        });
                        info += '\nblobSizes: ' + blobSizes;
                    }
                }

                else if(btnStartRecording.recordRTC && btnStartRecording.recordRTC.getBlob()) {
                    info += '\n\nblobSize: ' + bytesToSize(btnStartRecording.recordRTC.getBlob().size);
                }

                if(btnStartRecording.recordRTC && btnStartRecording.recordRTC.getInternalRecorder() && btnStartRecording.recordRTC.getInternalRecorder().getInternalRecorder && btnStartRecording.recordRTC.getInternalRecorder().getInternalRecorder()) {
                    info += '\n\ngetInternalRecorder: ' + mediaRecorderToStringify(btnStartRecording.recordRTC.getInternalRecorder().getInternalRecorder());
                }

                return info;
            }

            function saveToDiskOrOpenNewTab(recordRTC) {
                if(!recordRTC.getBlob().size) {
                    var info = getFailureReport();
                    console.log('blob', recordRTC.getBlob());
                    console.log('recordrtc instance', recordRTC);
                    console.log('report', info);

                    if(mediaContainerFormat.value !== 'default') {
                        alert('RecordRTC seems failed recording using ' + mediaContainerFormat.value + '. Please choose "default" option from the drop down and record again.');
                    }
                    else {
                        alert('RecordRTC seems failed. Unexpected issue. You can read the email in your console log. \n\nPlease report using disqus chat below.');
                    }

                    if(mediaContainerFormat.value !== 'vp9' && DetectRTC.browser.name === 'Chrome') {
                        alert('Please record using VP9 encoder. (select from the dropdown)');
                    }
                }

                var fileName = getFileName(fileExtension);

                document.querySelector('#save-to-disk').parentNode.style.display = 'block';
                document.querySelector('#save-to-disk').onclick = function() {
                    if(!recordRTC) return alert('No recording found.');

                    var file = new File([recordRTC.getBlob()], fileName, {
                        type: mimeType
                    });

                    invokeSaveAsDialog(file, file.name);
                };

                document.querySelector('#open-new-tab').onclick = function() {
                    if(!recordRTC) return alert('No recording found.');

                    var file = new File([recordRTC.getBlob()], fileName, {
                        type: mimeType
                    });

                    window.open(URL.createObjectURL(file));
                };

                // upload to PHP server  Upload Video
                if(isMyOwnDomain()) {
                    document.querySelector('#upload-to-php').disabled = true;
                    document.querySelector('#upload-to-php').style.display = 'none';
                }
                else {
                    document.querySelector('#upload-to-php').disabled = false;
                }

                document.querySelector('#upload-to-php').onclick = function() {
                    if(isMyOwnDomain()) {
                        alert('PHP Upload is not available on this domain.');
                        return;
                    }

                    if(!recordRTC) return alert('No recording found.');
                    this.disabled = true;

                    var button = this;
                    uploadToPHPServer(fileName, recordRTC, function(progress, fileURL) {
                        if(progress === 'ended') {
                            button.disabled = false;
                            button.innerHTML = 'Click to download from server';
                            button.onclick = function() {
                                SaveFileURLToDisk(fileURL, fileName);
                            };

                            setVideoURL(fileURL);

                            var html = 'Uploaded to PHP.<br>Download using below link:<br>';
                            html += '<a href="'+fileURL+'" download="'+fileName+'" style="color: yellow; display: block; margin-top: 15px;">'+fileName+'</a>';
                            recordingPlayer.parentNode.parentNode.querySelector('h2').innerHTML = html;
                            return;
                        }
                        button.innerHTML = progress;
                        recordingPlayer.parentNode.parentNode.querySelector('h2').innerHTML = progress;
                    });
                };

                // upload to YouTube!
                document.querySelector('#upload-to-youtube').disabled = false;
                document.querySelector('#upload-to-youtube').onclick = function() {
                    if(!recordRTC) return alert('No recording found.');
                    this.disabled = true;

                    if(isLocalHost()) {
                        alert('This feature is NOT available on localhost.');
                        return;
                    }

                    if(isMyOwnDomain() === false) {
                        var url = 'https://github.com/muaz-khan/RecordRTC/wiki/Upload-to-YouTube';
                        alert('YouTube API key is configured to work only on webrtc-experiment.com. Please create your own YouTube key + oAuth client-id and use it instead.\n\nWiki page: ' + url);

                        // check instructions on the wiki page
                        location.href = url;
                        return;
                    }

                    var button = this;
                    uploadToYouTube(fileName, recordRTC, function(percentageComplete, fileURL) {
                        if(percentageComplete == 'uploaded') {
                            button.disabled = false;
                            button.innerHTML = 'Uploaded. However YouTube is still processing.';
                            button.onclick = function() {
                                window.open(fileURL);
                            };
                            return;
                        }
                        if(percentageComplete == 'processed') {
                            button.disabled = false;
                            button.innerHTML = 'Uploaded & Processed. Click to open YouTube video.';
                            button.onclick = function() {
                                window.open(fileURL);
                            };

                            document.querySelector('h1').innerHTML = 'Your video has been uploaded.';
                            window.scrollTo(0, 0);

                            alert('Your video has been uploaded.');
                            return;
                        }
                        if(percentageComplete == 'failed') {
                            button.disabled = false;
                            button.innerHTML = 'YouTube failed transcoding the video.';
                            button.onclick = function() {
                                window.open(fileURL);
                            };
                            return;
                        }
                        button.innerHTML = percentageComplete + '% uploaded to YouTube.';
                    });
                };
            }

            function uploadToPHPServer(fileName, recordRTC, callback) {
                var blob = recordRTC instanceof Blob ? recordRTC : recordRTC.getBlob();

                blob = new File([blob], getFileName(fileExtension), {
                    type: mimeType
                });

                // create FormData
                var formData = new FormData();
                formData.append('video-filename', fileName);
                formData.append('video-blob', blob);

                callback('Uploading recorded-file to server.');

                // var upload_url = 'https://your-domain.com/files-uploader/';
                var upload_url = 'vat-vid/save.html';

                // var upload_directory = upload_url;
                var upload_directory = 'vat-vid/uploads/index.html';

                makeXMLHttpRequest(upload_url, formData, function(progress) {
                    if (progress !== 'upload-ended') {
                        callback(progress);
                        return;
                    }

                    callback('ended', upload_directory + fileName);
                });
            }

            function makeXMLHttpRequest(url, data, callback) {
                var request = new XMLHttpRequest();
                request.onreadystatechange = function() {
                    if (request.readyState == 4 && request.status == 200) {
                        if(request.responseText === 'success') {
                            callback('upload-ended');
                            return;
                        }

                        document.querySelector('.header').parentNode.style = 'text-align: left; color: red; padding: 5px 10px;';
                        document.querySelector('.header').parentNode.innerHTML = request.responseText;
                    }
                };

                request.upload.onloadstart = function() {
                    callback('Upload started...');
                };

                request.upload.onprogress = function(event) {
                    callback('Upload Progress ' + Math.round(event.loaded / event.total * 100) + "%");
                };

                request.upload.onload = function() {
                    callback('progress-about-to-end');
                };

                request.upload.onload = function() {
                    callback('Getting File URL..');
                };

                request.upload.onerror = function(error) {
                    callback('Failed to upload to server');
                };

                request.upload.onabort = function(error) {
                    callback('Upload aborted.');
                };

                request.open('POST.html', url);
                request.send(data);
            }

            function getRandomString() {
                if (window.crypto && window.crypto.getRandomValues && navigator.userAgent.indexOf('Safari') === -1) {
                    var a = window.crypto.getRandomValues(new Uint32Array(3)),
                        token = '';
                    for (var i = 0, l = a.length; i < l; i++) {
                        token += a[i].toString(36);
                    }
                    return token;
                } else {
                    return (Math.random() * new Date().getTime()).toString(36).replace(/\./g, '');
                }
            }

            function getFileName(fileExtension) {
                var d = new Date();
                var year = d.getUTCFullYear();
                var month = d.getUTCMonth();
                var date = d.getUTCDate();
                return 'RecordRTC-' + year + month + date + '-' + getRandomString() + '.' + fileExtension;
            }

            function SaveFileURLToDisk(fileUrl, fileName) {
                var hyperlink = document.createElement('a');
                hyperlink.href = fileUrl;
                hyperlink.target = '_blank';
                hyperlink.download = fileName || fileUrl;

                (document.body || document.documentElement).appendChild(hyperlink);
                hyperlink.onclick = function() {
                   (document.body || document.documentElement).removeChild(hyperlink);

                   // required for Firefox
                   window.URL.revokeObjectURL(hyperlink.href);
                };

                var mouseEvent = new MouseEvent('click', {
                    view: window,
                    bubbles: true,
                    cancelable: true
                });

                hyperlink.dispatchEvent(mouseEvent);
            }

            function getURL(arg) {
                var url = arg;

                if(arg instanceof Blob || arg instanceof File) {
                    url = URL.createObjectURL(arg);
                }

                if(arg instanceof RecordRTC || arg.getBlob) {
                    url = URL.createObjectURL(arg.getBlob());
                }

                if(arg instanceof MediaStream || arg.getTracks) {
                    // url = URL.createObjectURL(arg);
                }

                return url;
            }

            function setVideoURL(arg, forceNonImage) {
                var url = getURL(arg);

                var parentNode = recordingPlayer.parentNode;
                parentNode.removeChild(recordingPlayer);
                parentNode.innerHTML = '';

                var elem = 'video';
                if(type == 'gif' && !forceNonImage) {
                    elem = 'img';
                }
                if(type == 'audio') {
                    elem = 'audio';
                }

                recordingPlayer = document.createElement(elem);

                if(arg instanceof MediaStream) {
                    recordingPlayer.muted = true;
                }

                recordingPlayer.addEventListener('loadedmetadata', function() {
                    if(navigator.userAgent.toLowerCase().indexOf('android') == -1) return;

                    // android
                    setTimeout(function() {
                        if(typeof recordingPlayer.play === 'function') {
                            recordingPlayer.play();
                        }
                    }, 2000);
                }, false);

                recordingPlayer.poster = '';

                if(arg instanceof MediaStream) {
                    recordingPlayer.srcObject = arg;
                }
                else {
                    recordingPlayer.src = url;
                }

                if(typeof recordingPlayer.play === 'function') {
                    recordingPlayer.play();
                }

                recordingPlayer.addEventListener('ended', function() {
                    url = getURL(arg);

                    if(arg instanceof MediaStream) {
                        recordingPlayer.srcObject = arg;
                    }
                    else {
                        recordingPlayer.src = url;
                    }
                });

                parentNode.appendChild(recordingPlayer);
            }
        </script>

        <script>
            function captureScreen(config) {
                if (navigator.getDisplayMedia) {
                    navigator.getDisplayMedia({
                        video: true
                    }).then(screenStream => {
                        config.onMediaCaptured(screenStream);

                        addStreamStopListener(screenStream, function() {
                            // config.onMediaStopped();

                            btnStartRecording.onclick();
                        });

                        setVideoURL(screenStream, true);
                    }).catch(function(error) {
                        config.onMediaCapturingFailed(error);
                    });
                } else if (navigator.mediaDevices.getDisplayMedia) {
                    navigator.mediaDevices.getDisplayMedia({
                        video: true
                    }).then(screenStream => {
                        config.onMediaCaptured(screenStream);

                        addStreamStopListener(screenStream, function() {
                            // config.onMediaStopped();

                            btnStartRecording.onclick();
                        });

                        setVideoURL(screenStream, true);
                    }).catch(function(error) {
                        config.onMediaCapturingFailed(error);
                    });
                } else {
                    var error = 'getDisplayMedia API are not supported in this browser.';
                    config.onMediaCapturingFailed(error);
                    alert(error);
                }
            }

            function captureAudioPlusScreen(config) {
                if (navigator.getDisplayMedia) {
                    navigator.getDisplayMedia({
                        video: true
                    }).then(screenStream => {
                        navigator.mediaDevices.getUserMedia({audio:true}).then(function(mic) {
                            screenStream.addTrack(mic.getTracks()[0]);

                            config.onMediaCaptured(screenStream);

                            addStreamStopListener(screenStream, function() {
                                // config.onMediaStopped();

                                btnStartRecording.onclick();
                            });

                            setVideoURL(screenStream, true);
                        });
                    }).catch(function(error) {
                        config.onMediaCapturingFailed(error);
                    });
                } else if (navigator.mediaDevices.getDisplayMedia) {
                    navigator.mediaDevices.getDisplayMedia({
                        video: true
                    }).then(screenStream => {
                        navigator.mediaDevices.getUserMedia({audio:true}).then(function(mic) {
                            screenStream.addTrack(mic.getTracks()[0]);

                            config.onMediaCaptured(screenStream);

                            addStreamStopListener(screenStream, function() {
                                // config.onMediaStopped();

                                btnStartRecording.onclick();
                            });

                            setVideoURL(screenStream, true);
                        });
                    }).catch(function(error) {
                        config.onMediaCapturingFailed(error);
                    });
                } else {
                    var error = 'getDisplayMedia API are not supported in this browser.';
                    config.onMediaCapturingFailed(error);
                    alert(error);
                }
            }
        </script>

        <script>
            /* upload_youtube_video.js Copyright 2017 Google Inc. All Rights Reserved. */

            function uploadToYouTube(fileName, recordRTC, callback) {
                var blob = recordRTC instanceof Blob ? recordRTC : recordRTC.getBlob();

                blob = new File([blob], getFileName(fileExtension), {
                    type: mimeType
                });

                if(!uploadVideo) {
                    alert('YouTube API are not available.');
                    return;
                }

                uploadVideo.callback = callback;
                uploadVideo.uploadFile(fileName, blob);
            }

            var uploadVideo;

            var signinCallback = function (result){
              if(result.access_token) {
                uploadVideo = new UploadVideo();
                uploadVideo.ready(result.access_token);

                document.querySelector('#signinButton').style.display = 'none';
              }
              else {
                // console.error('YouTube error', result);
                // document.querySelector('#upload-to-youtube').style.display = 'none';
              }
            };

            var STATUS_POLLING_INTERVAL_MILLIS = 60 * 1000; // One minute.

            var UploadVideo = function() {
              this.tags = ['recordrtc'];
              this.categoryId = 28; // via: http://stackoverflow.com/a/35877512/552182
              this.videoId = '';
              this.uploadStartTime = 0;
            };


            UploadVideo.prototype.ready = function(accessToken) {
              this.accessToken = accessToken;
              this.gapi = gapi;
              this.authenticated = true;
              false && this.gapi.client.request({
                path: '/youtube/v3/channels',
                params: {
                  part: 'snippet',
                  mine: true
                },
                callback: function(response) {
                  if (!response.error) {
                    // response.items[0].snippet.title -- channel title
                    // response.items[0].snippet.thumbnails.default.url -- channel thumbnail
                  }
                }.bind(this)
              });
            };

            UploadVideo.prototype.uploadFile = function(fileName, file) {
              var metadata = {
                snippet: {
                  title: fileName,
                  description: fileName,
                  tags: this.tags,
                  categoryId: this.categoryId
                },
                status: {
                  privacyStatus: 'public'
                }
              };
              var uploader = new MediaUploader({
                baseUrl: 'https://www.googleapis.com/upload/youtube/v3/videos',
                file: file,
                token: this.accessToken,
                metadata: metadata,
                params: {
                  part: Object.keys(metadata).join(',')
                },
                onError: function(data) {
                  var message = data;
                  try {
                    var errorResponse = JSON.parse(data);
                    message = errorResponse.error.message;
                  } finally {
                    alert(message);
                  }
                }.bind(this),
                onProgress: function(data) {
                  var bytesUploaded = data.loaded;
                  var totalBytes = parseInt(data.total);
                  var percentageComplete = parseInt((bytesUploaded * 100) / totalBytes);

                  uploadVideo.callback(percentageComplete);
                }.bind(this),
                onComplete: function(data) {
                  var uploadResponse = JSON.parse(data);
                  this.videoId = uploadResponse.id;
                  this.videoURL = 'https://www.youtube.com/watch?v=' + this.videoId;
                  uploadVideo.callback('uploaded', this.videoURL);

                  setTimeout(this.pollForVideoStatus, 2000);
                }.bind(this)
              });
              this.uploadStartTime = Date.now();
              uploader.upload();
            };

            UploadVideo.prototype.pollForVideoStatus = function() {
              this.gapi.client.request({
                path: '/youtube/v3/videos',
                params: {
                  part: 'status,player',
                  id: this.videoId
                },
                callback: function(response) {
                  if (response.error) {
                    uploadVideo.pollForVideoStatus();
                  } else {
                    var uploadStatus = response.items[0].status.uploadStatus;
                    switch (uploadStatus) {
                      case 'uploaded':
                        uploadVideo.callback('uploaded', uploadVideo.videoURL);
                        uploadVideo.pollForVideoStatus();
                        break;
                        case 'processed':
                        uploadVideo.callback('processed', uploadVideo.videoURL);
                        break;
                        default:
                        uploadVideo.callback('failed', uploadVideo.videoURL);
                        break;
                    }
                  }
                }.bind(this)
              });
            };

        </script>

        <script>
            /* cors_upload.js Copyright 2015 Google Inc. All Rights Reserved. */

            var DRIVE_UPLOAD_URL = 'https://www.googleapis.com/upload/drive/v2/files/';

            var RetryHandler = function() {
              this.interval = 1000; // Start at one second
              this.maxInterval = 60 * 1000; // Don't wait longer than a minute
            };

            RetryHandler.prototype.retry = function(fn) {
              setTimeout(fn, this.interval);
              this.interval = this.nextInterval_();
            };

            RetryHandler.prototype.reset = function() {
              this.interval = 1000;
            };

            RetryHandler.prototype.nextInterval_ = function() {
              var interval = this.interval * 2 + this.getRandomInt_(0, 1000);
              return Math.min(interval, this.maxInterval);
            };

            RetryHandler.prototype.getRandomInt_ = function(min, max) {
              return Math.floor(Math.random() * (max - min + 1) + min);
            };

            var MediaUploader = function(options) {
              var noop = function() {};
              this.file = options.file;
              this.contentType = options.contentType || this.file.type || 'application/octet-stream';
              this.metadata = options.metadata || {
                'title': this.file.name,
                'mimeType': this.contentType
              };
              this.token = options.token;
              this.onComplete = options.onComplete || noop;
              this.onProgress = options.onProgress || noop;
              this.onError = options.onError || noop;
              this.offset = options.offset || 0;
              this.chunkSize = options.chunkSize || 0;
              this.retryHandler = new RetryHandler();

              this.url = options.url;
              if (!this.url) {
                var params = options.params || {};
                params.uploadType = 'resumable';
                this.url = this.buildUrl_(options.fileId, params, options.baseUrl);
              }
              this.httpMethod = options.fileId ? 'PUT' : 'POST';
            };

            MediaUploader.prototype.upload = function() {
              var self = this;
              var xhr = new XMLHttpRequest();

              xhr.open(this.httpMethod, this.url, true);
              xhr.setRequestHeader('Authorization', 'Bearer ' + this.token);
              xhr.setRequestHeader('Content-Type', 'application/json');
              xhr.setRequestHeader('X-Upload-Content-Length', this.file.size);
              xhr.setRequestHeader('X-Upload-Content-Type', this.contentType);

              xhr.onload = function(e) {
                if (e.target.status < 400) {
                  var location = e.target.getResponseHeader('Location');
                  this.url = location;
                  this.sendFile_();
                } else {
                  this.onUploadError_(e);
                }
              }.bind(this);
              xhr.onerror = this.onUploadError_.bind(this);
              xhr.send(JSON.stringify(this.metadata));
            };

            MediaUploader.prototype.sendFile_ = function() {
              var content = this.file;
              var end = this.file.size;

              if (this.offset || this.chunkSize) {
                // Only bother to slice the file if we're either resuming or uploading in chunks
                if (this.chunkSize) {
                  end = Math.min(this.offset + this.chunkSize, this.file.size);
                }
                content = content.slice(this.offset, end);
              }

              var xhr = new XMLHttpRequest();
              xhr.open('PUT.html', this.url, true);
              xhr.setRequestHeader('Content-Type', this.contentType);
              xhr.setRequestHeader('Content-Range', 'bytes ' + this.offset + '-' + (end - 1) + '/' + this.file.size);
              xhr.setRequestHeader('X-Upload-Content-Type', this.file.type);
              if (xhr.upload) {
                xhr.upload.addEventListener('progress', this.onProgress);
              }
              xhr.onload = this.onContentUploadSuccess_.bind(this);
              xhr.onerror = this.onContentUploadError_.bind(this);
              xhr.send(content);
            };

            MediaUploader.prototype.resume_ = function() {
              var xhr = new XMLHttpRequest();
              xhr.open('PUT.html', this.url, true);
              xhr.setRequestHeader('Content-Range', 'bytes */' + this.file.size);
              xhr.setRequestHeader('X-Upload-Content-Type', this.file.type);
              if (xhr.upload) {
                xhr.upload.addEventListener('progress', this.onProgress);
              }
              xhr.onload = this.onContentUploadSuccess_.bind(this);
              xhr.onerror = this.onContentUploadError_.bind(this);
              xhr.send();
            };

            MediaUploader.prototype.extractRange_ = function(xhr) {
              var range = xhr.getResponseHeader('Range');
              if (range) {
                this.offset = parseInt(range.match(/\d+/g).pop(), 10) + 1;
              }
            };

            MediaUploader.prototype.onContentUploadSuccess_ = function(e) {
              if (e.target.status == 200 || e.target.status == 201) {
                this.onComplete(e.target.response);
              } else if (e.target.status == 308) {
                this.extractRange_(e.target);
                this.retryHandler.reset();
                this.sendFile_();
              }
            };

            MediaUploader.prototype.onContentUploadError_ = function(e) {
              if (e.target.status && e.target.status < 500) {
                this.onError(e.target.response);
              } else {
                this.retryHandler.retry(this.resume_.bind(this));
              }
            };

            MediaUploader.prototype.onUploadError_ = function(e) {
              this.onError(e.target.response); // TODO - Retries for initial upload
            };

            MediaUploader.prototype.buildQuery_ = function(params) {
              params = params || {};
              return Object.keys(params).map(function(key) {
                return encodeURIComponent(key) + '=' + encodeURIComponent(params[key]);
              }).join('&');
            };

            MediaUploader.prototype.buildUrl_ = function(id, params, baseUrl) {
              var url = baseUrl || DRIVE_UPLOAD_URL;
              if (id) {
                url += id;
              }
              var query = this.buildQuery_(params);
              if (query) {
                url += '?' + query;
              }
              return url;
            };
        </script>

        <script>
            var chkFixSeeking = document.querySelector('#chk-fixSeeking');
            chkFixSeeking.onchange = function() {
                if(this.checked === true) {
                    localStorage.setItem(this.id, 'true');
                }
                else {
                    localStorage.removeItem(this.id);
                }
            };
            if(localStorage.getItem(chkFixSeeking.id) === 'true') {
                chkFixSeeking.checked = true;
            }
        </script>

        <script>
            var chkTimeSlice = document.querySelector('#chk-timeSlice');
            var timeSlice = false;

            if(typeof MediaRecorder === 'undefined') {
                chkTimeSlice.disabled = true;
            }

            chkTimeSlice.addEventListener('change', function() {
                if(chkTimeSlice.checked === true) {
                    var _timeSlice = prompt('Please enter timeSlice in milliseconds e.g. 1000 or 2000 or 3000.', 1000);
                    _timeSlice = parseInt(_timeSlice);
                    if(!_timeSlice || _timeSlice == NaN || typeof _timeSlice === 'undefined') {
                        timeSlice = false;
                        return;
                    }

                    timeSlice = _timeSlice;
                }
                else {
                    timeSlice = false;
                }
            }, false);
        </script>

        <script>
            var btnPauseRecording = document.querySelector('#btn-pause-recording');
            btnPauseRecording.onclick = function() {
                if(!btnStartRecording.recordRTC) {
                    btnPauseRecording.style.display = 'none';
                    return;
                }

                btnPauseRecording.disabled = true;
                if(btnPauseRecording.innerHTML === 'Pause') {
                    btnStartRecording.disabled = true;
                    chkFixSeeking.parentNode.style.display = 'none';
                    btnStartRecording.style.fontSize = '15px';
                    btnStartRecording.recordRTC.pauseRecording();
                    recordingPlayer.parentNode.parentNode.querySelector('h2').innerHTML = 'Recording status: paused';
                    recordingPlayer.pause();

                    btnPauseRecording.style.fontSize = 'inherit';
                    setTimeout(function() {
                        btnPauseRecording.innerHTML = 'Resume Recording';
                        btnPauseRecording.disabled = false;
                    }, 2000);
                }

                if(btnPauseRecording.innerHTML === 'Resume Recording') {
                    btnStartRecording.disabled = false;
                    chkFixSeeking.parentNode.style.display = 'none';
                    btnStartRecording.style.fontSize = 'inherit';
                    btnStartRecording.recordRTC.resumeRecording();
                    recordingPlayer.parentNode.parentNode.querySelector('h2').innerHTML = '<img src="../www.webrtc-experiment.com/images/progress.gif">';
                    recordingPlayer.play();

                    btnPauseRecording.style.fontSize = '15px';
                    btnPauseRecording.innerHTML = 'Pause';
                    setTimeout(function() {
                        btnPauseRecording.disabled = false;
                    }, 2000);
                }
            };
        </script>


    </article>

    <footer>

    </footer>

    <!-- commits.js is useless for you! -->
    <script>
        window.useThisGithubPath = 'muaz-khan/RecordRTC';
    </script>
    <script src="../www.webrtc-experiment.com/commits.js" async></script>
    <script src="../apis.google.com/js/client_plusone.js"></script>
<!--</body>

</html>-->
</div>
          <!--<div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab"></div>-->
        </div>


      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <!--<button type="button" class="btn btn-primary">Save changes</button>-->
      </div>
    </div>
  </div>
</div>  <!--Whistle Blower Modal-->
    <div>
          <div class="modal fade bd-example-modal-sm2" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content" style="margin:20;padding:15px;">
        <h4 class="text-dark text-center">Whistle Blowing:<br /><small class="text-danger"><i>Anonymously Report Something...</i></small> <img src="whistle.png" width="170px"/></h4>
      <form id="the_form_data" method='post' action='#' enctype="multipart/form-data">
          <div class="form-group">
            <label for="incident_area2">Incident LGA/LCDA</label>
              <select id="incident_area2" name="incident_area2" class="form-control input-lg" data-live-search="true" title="Select Feedback Type">
              <option disabled="" selected><b>Choose incident LGA/LCDA</b></option>
              <option value="2">Orile agege lcda</option><br><option value="3">Ajeromi lga</option><br><option value="4">Ifelodun lcda</option><br><option value="5">Alimosho lga</option><br><option value="6">Agbado/oke-odo lcda </option><br><option value="7">Ayobo ipaja lcda</option><br><option value="8">Egbe-idimu lcda </option><br><option value="9">Igando-ikotun lcda</option><br><option value="10">Mosan okunola lcda </option><br><option value="11">Amuwo odofin lga </option><br><option value="12">Oriade lcda </option><br><option value="13">Apapa lga</option><br><option value="14">Apapa iganmu lcda </option><br><option value="15">Badagry lcda</option><br><option value="16"> badagry west lcda</option><br><option value="17">Olorunda lcda </option><br><option value="18">Epe lga </option><br><option value="19">Eredo lga</option><br><option value="20">Ikosi ejinrin lcda</option><br><option value="21">Eti osa lga</option><br><option value="22">Eti osa east lcda</option><br><option value="23">Iru- victoria island lcda</option><br><option value="24">Ikoyi obalande lcda</option><br><option value="25">Ibeju lekki lga</option><br><option value="26">Lekki lcda </option><br><option value="27">Ifako ijaye lga</option><br><option value="28">Ojokoro lcda</option><br><option value="29">Ikeja lga</option><br><option value="30">Ojodu lcda </option><br><option value="31">Onigbongbo lcda </option><br><option value="32">Ikorodu lga </option><br><option value="33">Ikorodu north lcda</option><br><option value="34">Ikorodu west lcda</option><br><option value="35">Imota lcda </option><br><option value="36">Ijede lcda </option><br><option value="37">Igbobo-baiyeku lcda </option><br><option value="38">Kosofe lga</option><br><option value="39">Ikosi-isheri lcda </option><br><option value="40">Agboyi-ketu lcda</option><br><option value="41">Lagos island lga</option><br><option value="42">Lagos island east lga</option><br><option value="43">Lagos mainland lga</option><br><option value="44">Yaba lcda</option><br><option value="45">Mushin lga</option><br><option value="46">Odi - olowo lga</option><br><option value="47">Ojo lga</option><br><option value="48">Oto awori lcda</option><br><option value="49">Iba lcda</option><br><option value="50">Somolu lga </option><br><option value="51">Bariga lcda </option><br><option value="52">Oshodi isolo lga</option><br><option value="53">Isolo lcda</option><br><option value="54">Ejigbo lcda</option><br><option value="55">Surulere lga </option><br><option value="56">Coker aguda lcda </option><br><option value="57">Itire ikate lcda </option><br>                      </select>
          </div>
          <div class="form-group">
            <label for="exampleInputEmail1">Incident Area</label>
            <input type="text" class="form-control" name="incident_area" id="incident_area" aria-describedby="emailHelp" placeholder="Incident Area">
          </div>
          <div class="form-group">
            <label for="exampleFormControlTextarea1">Issue Details</label>
            <textarea class="form-control" name="messsage_details" id="messsage_details" rows="3" placeholder="Issue Details"></textarea>
          </div>
          <div class="form-group">
                <input type="file" class="form-control-file" id='files' name="files[]" multiple>
                <div class="invalid-feedback">Example invalid custom file feedback</div>
          </div>
  <!-- Preview -->
    	        <div id='preview'></div>
          <button type="submit" class="btn btn-primary" name="submit" id="submitx" value='Upload'>Submit</button>
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
    </form>
    <!-- Script -->
<script type="text/javascript">
	$(document).ready(function(){
		$('#submitx').click(function(e){
			var form_data = new FormData();
			// Read selected files
			var area = $('#incident_area').val();
			var details = $('#messsage_details').val();
            var totalfiles = document.getElementById('files').files.length;
            for (var index = 0; index < totalfiles; index++) {
                form_data.append("files[]", document.getElementById('files').files[index]);
            }
            form_data.append("incident_area", $('#incident_area').val());
            form_data.append("messsage_details", $('#messsage_details').val());
            //var form_data =. $(this).serialize();
            // AJAX request
            $.ajax({
                url: 'ajaxfile.php',
               	type: 'post',
               	data: form_data,
               	dataType: 'json',
                contentType: false,
                processData: false,
                success: function (response) {
                   	for(var index = 0; index < response.length; index++) {
					    var src = response[index];
					    // Add img element in <div id='preview'>
					    $('#preview').append('<img src="'+src+'" width="200px;" height="200px">');
					}
					alert(data);
                }
            });e.preventDefault();
		});
	});
	</script>
    </div>
  </div>
</div>
    </div>
  <!--  Health  -->
    <!--  Health2  -->
<!--<script src="health2.js"></script> -->
  <!-- Missing Persons -->
   <!--Panic/Health-->
    <div>
          <div class="modal fade bd-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabelMissingPerson" aria-hidden="true" id="missingperson">
  <div class="modal-dialog modal-sm">
    <div class="modal-content" style="margin:20;padding:15px;">
        <h4 style="text-align:center;" class="text-dark rounded mx-auto d-block">Have You Seen a Missing Person?<br /><small class="text-danger">Then fill this Form:</small><br /> <br /><div width="50px"><i class="fas fa-user-tag"></i></div></h4>
      <form id="missing_person_form" enctype="multipart/form-data">

          <div class="form-group">
              <label for="mp_incident_area"><h5>Incident Area</h5></label>
                <select id="mp_incident_area" name="mp_incident_area" class="form-control input-lg" data-live-search="true" title="Select Feedback Type">

              <option disabled="" selected><b>Choose incident LGA/LCDA</b></option>
              <option value="1">Agege lga</option><br><option value="2">Orile agege lcda</option><br><option value="3">Ajeromi lga</option><br><option value="4">Ifelodun lcda</option><br><option value="5">Alimosho lga</option><br><option value="6">Agbado/oke-odo lcda </option><br><option value="7">Ayobo ipaja lcda</option><br><option value="8">Egbe-idimu lcda </option><br><option value="9">Igando-ikotun lcda</option><br><option value="10">Mosan okunola lcda </option><br><option value="11">Amuwo odofin lga </option><br><option value="12">Oriade lcda </option><br><option value="13">Apapa lga</option><br><option value="14">Apapa iganmu lcda </option><br><option value="15">Badagry lcda</option><br><option value="16"> badagry west lcda</option><br><option value="17">Olorunda lcda </option><br><option value="18">Epe lga </option><br><option value="19">Eredo lga</option><br><option value="20">Ikosi ejinrin lcda</option><br><option value="21">Eti osa lga</option><br><option value="22">Eti osa east lcda</option><br><option value="23">Iru- victoria island lcda</option><br><option value="24">Ikoyi obalande lcda</option><br><option value="25">Ibeju lekki lga</option><br><option value="26">Lekki lcda </option><br><option value="27">Ifako ijaye lga</option><br><option value="28">Ojokoro lcda</option><br><option value="29">Ikeja lga</option><br><option value="30">Ojodu lcda </option><br><option value="31">Onigbongbo lcda </option><br><option value="32">Ikorodu lga </option><br><option value="33">Ikorodu north lcda</option><br><option value="34">Ikorodu west lcda</option><br><option value="35">Imota lcda </option><br><option value="36">Ijede lcda </option><br><option value="37">Igbobo-baiyeku lcda </option><br><option value="38">Kosofe lga</option><br><option value="39">Ikosi-isheri lcda </option><br><option value="40">Agboyi-ketu lcda</option><br><option value="41">Lagos island lga</option><br><option value="42">Lagos island east lga</option><br><option value="43">Lagos mainland lga</option><br><option value="44">Yaba lcda</option><br><option value="45">Mushin lga</option><br><option value="46">Odi - olowo lga</option><br><option value="47">Ojo lga</option><br><option value="48">Oto awori lcda</option><br><option value="49">Iba lcda</option><br><option value="50">Somolu lga </option><br><option value="51">Bariga lcda </option><br><option value="52">Oshodi isolo lga</option><br><option value="53">Isolo lcda</option><br><option value="54">Ejigbo lcda</option><br><option value="55">Surulere lga </option><br><option value="56">Coker aguda lcda </option><br><option value="57">Itire ikate lcda </option><br>


                      </select>


            <!--<input type="text" class="form-control" name="incident_area3" id="incident_area3" aria-describedby="emailHelp2" placeholder="Incident Area">-->
          </div>

          <div class="form-group">
              <h5>Is the Person Conscious <b class="text-success">(</b><span class="text-danger">Can he/she talks</span><span class="text-success"><b>) ?</b></span></h5>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="isConscious" id="conscious" value="1" checked>
              <label class="form-check-label" for="conscious">
                Yes
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="isConscious" id="notConscious" value="0">
              <label class="form-check-label" for="notConscious">
                No
              </label>
            </div>
          </div>

          <div class="form-group">
            <label for="mp_messsage_details"><h5>Explain Issue or Symptoms</h5></label>
            <textarea class="form-control" name="mp_messsage_details" id="mp_messsage_details" rows="4" placeholder="Type any useful information that will help us to trace the person so we can help them connect back to their family"></textarea>
          </div>

          <div class="form-group">
            <label for="mp_reporter_info"><h5>Your Email</h5></label>
            <input class="form-control" name="mp_reporter_info" id="mp_reporter_info" placeholder="Type Your email"/>
          </div>

          <div class="form-group">

                <input type="file" class="form-control-file" id='mp_file' name="mp_file" >
                <small id="pictureHelp" class="form-text text-muted">Picture of The Person.</small>
                <div class="invalid-feedback">Picture of The Missing Person</div>

          </div>
  <!-- Preview -->
    	        <div class="text-success" id='preview_health_pic_info'></div>
          <button type="submit" class="btn btn-primary" name="submit" id="submitr" value='Upload'>Submit</button>
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
    </form>

    <!-- Status message -->
        <div class="missingPersonStatusMsg"></div>

    <!-- Script -->
    <script>
    $(document).ready(function(e){
    // Submit form data via Ajax
    $("#missing_person_form").on('submit', function(e){
        e.preventDefault();
        $.ajax({
            type: 'POST',
            url: 'ajaxSubmitMissingPerson.php',
            data: new FormData(this),
            dataType: 'json',
            contentType: false,
            cache: false,
            processData:false,
            beforeSend: function(){
                $('.submitBtn').attr("disabled","disabled");
                $('#missing_person_form').css("opacity",".5");
            },
            success: function(response){
                $('.missingPersonStatusMsg').html('');
                if(response.status == 1){
                    $('#missing_person_form')[0].reset();
                    $('.missingPersonStatusMsg').html('<p class="alert alert-success">'+response.message+'</p>');
                }else{
                    $('.missingPersonStatusMsg').html('<p class="alert alert-danger">'+response.message+'</p>');
                }
                $('#missing_person_form').css("opacity","");
                $(".submitBtn").removeAttr("disabled");
            }
        });
    });
});
</script>

	  <!-- End Footer -->
  <div id="preloader"></div>
  <a href="#" class="back-to-top"><i class="icofont-simple-up"></i></a>
  <script src="assets/vendor/bootstrap/show-password/bootstrap-show-password.min.js"></script>
  <!-- Vendor JS Files -->
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/jquery.easing/jquery.easing.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/waypoints/jquery.waypoints.min.js"></script>
  <script src="assets/vendor/counterup/counterup.min.js"></script>
  <script src="assets/vendor/owl.carousel/owl.carousel.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/venobox/venobox.min.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script>
      setTimeout(function () { AOS.init(); }, 1000);
  </script>
  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>
<script>
$("#loginForm").submit(function(e) {
	e.preventDefault();
	var dataSent = $('#loginForm').serialize();
		$("#loginError_message").html("").hide();
		$.ajax({
			type: "POST",
			url: "1_cgDb/login.inc.php",
			data: dataSent,
			success: function(data){
				$('#loginSuccess_message').fadeIn().html(data);
				setTimeout(function() {
					$('#loginSuccess_message').fadeOut("slow");
				}, 17000 );
			}
		});
})
</script>
<script>
$("#signUpForm").submit(function(e) {
	e.preventDefault();
	var dataSent = $('#signUpForm').serialize();
		$("#signupError_message").html("").hide();
		$.ajax({
			type: "POST",
			url: "1_cgDb/sign-up.inc.php",
			data: dataSent,
			success: function(data){
				$('#signupSuccess_message').fadeIn().html(data);
				setTimeout(function() {
					$('#signupSuccess_message').fadeOut("slow");
				}, 15000 );
				let result = data.includes('SMS for Validation code');
				if(result === true){
				    let infoHtml = '<hr /><span class="container"><h4 class="m-1 p-1 text-secondary text-center"><b>ENTER SMS CODE SENT BELOW</b></h4><form id="smscodesender" method="post"><span class="form-group"><input type="text" id="smscode" name="smscode" class="m-1 form-control"/><input type="hidden" id="mb" name="mb" value=""/><span class="text-center"><input  class="btn btn-warning" value="Submit Code" type="submit"/></span></span></form></span>';/*<input class="btn btn-primary" value="submit" type="submit">*/
				    $('#signupSuccess_message_code').fadeIn().html(infoHtml);
				}
                console.log(data);
			}
		});
});

//function sendSmsCode(){                                            onclick="sendSmsCode()"
    //alert("SMS CODE 123333");
    /*document.getElementById("smscode").submit();
    var sms = document.getElementById("smscode").value;*/


        $("#smscodesender").submit(function(e) {
    	e.preventDefault();
    	var dataSent = $('#smscodesender').serialize();
    		$("#signupError_message").html("").hide();
    		$.ajax({
    			type: "POST",
    			url: "1_cgDb/sign-up-sms.inc.php",
    			data: dataSent,
    			success: function(data){
    				$('#signupSuccess_message').fadeIn().html(data);
    				setTimeout(function() {
    					$('#signupSuccess_message').fadeOut("slow");
    				}, 15000 );
    				let result = data.includes('Mobile Number Already Exists but not yet Validated');
    				if(result === true){
    				    let infoHtml = '<hr /><span class="container"><h4 class="m-1 p-1 text-secondary text-center"><b>ENTER SMS CODE SENT BELOW</b></h4><span class="form-group" id=""><input type="text" id="smscode" name="smscode" class="m-1 form-control"/><span class="text-center"><button onclick="sendSmsCode()" class="btn btn-warning" type="submit">Submit Code</button></span></span></span>';
    				    $('#signupSuccess_message_code').fadeIn().html(infoHtml);
    				}
                    console.log(data);
    			}
    		});
    });


//}


</script>
<!--introJs-->
<script src="../cdnjs.cloudflare.com/ajax/libs/intro.js/6.0.0/intro.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/intro.js/6.0.0/intro.min.js.map"></script>
<script src="introjs_customz.js"></script>
<script>
        const element = document.getElementById("watchTour");
    element.addEventListener("click", myFunction);
    function myFunction() {
        const intro = introJs();

        intro.setOptions({
            steps: [
                    {
                        intro: "Welcome to the Lagos State Citizens Gate Platform."

                    },
                    {
                        element: "#feedbkUnsignUpBtn",
                        intro: "You can send us a Feedback without Signing Up by clicking the Feedback button. However, Signing Up enables You see all messages you have previously sent to Us."
                    },
                    {
                        element: "#signUpBtn",
                        intro: "Very importantly, You can Sign Up as a Citizen by clicking this SignUp button."
                    },
                    {
                        element: "#loginBtn",
                        intro: "You can login as either a Citizen or an Admin by clicking this Login button."
                    },
                    {
                        element: "#sendMessage",
                        intro: "Click this button to send an Anonymous Feedback Message in Video or Audio or even text and image formats."
                    },
                ]
        });
        /*document.querySelector('.repeat-steps').addEventListener('click');*/
        intro.start();
    }
</script>
<!--VAT Message Video Javascripts-->
<script src="../webrtc.github.io/adapter/adapter-latest.js"></script>
<script src="vat-video/main.js" async></script>
<script src="vat-video/js/lib/ga.js"></script>
</body>

<!-- Mirrored from citizensgate.lagosstate.gov.ng/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 26 Jul 2023 14:46:14 GMT -->
</html>
